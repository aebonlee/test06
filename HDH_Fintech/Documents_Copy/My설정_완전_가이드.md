# My 설정 완전 가이드

**작성일**: 2025-12-07
**버전**: 1.0
**목적**: HDH Fintech My 설정 메뉴 전체 상세 가이드

---

## 📋 목차

1. [전체 구조 개요](#1-전체-구조-개요)
2. [거래 시작일 설정](#2-거래-시작일-설정)
3. [누적손익 목표 설정](#3-누적손익-목표-설정)
4. [계좌 관리](#4-계좌-관리)
5. [API 연결 설정](#5-api-연결-설정)
6. [알림 설정](#6-알림-설정)
7. [데이터 관리](#7-데이터-관리)
8. [프로필 관리](#8-프로필-관리)

---

## 1. 전체 구조 개요

### 1.1 My 설정 메뉴 전체 구조

```
⚙️ My 설정 (총 7개)
│
├─ 1. 거래 시작일 설정 (모달)
├─ 2. 누적손익 목표 설정 (모달)
│
├─ 3. 💼 계좌 관리 ▶ (트리 구조 - 4개)
│  ├─── 📊 계좌 현황 보기
│  ├─── ➕ 새 계좌 추가
│  ├─── 🔗 연결된 계좌 관리
│  └─── 📜 연동 로그
│
├─ 4. 🔌 API 연결 설정 ▶ (트리 구조 - 5개)
│  ├─── 🔑 API 키 관리
│  ├─── 🧪 연결 테스트
│  ├─── 🔐 권한 확인
│  ├─── 📊 사용량 통계
│  └─── ⏰ 만료 알림 설정
│
├─ 5. 🔔 알림 설정 ▶ (트리 구조 - 4개)
│  ├─── ☑ 💰 포지션 청산 알림
│  ├─── ☑ 🔗 계좌 연동 알림
│  ├─── ☑ ⚠️ 동기화 오류 알림
│  └─── ☑ 🔴 API 오류 알림
│
├─ 6. 📊 데이터 관리 ▶ (트리 구조 - 2단계)
│  ├─── 📥 데이터 다운로드 ▶
│  │    ├─── CSV 거래 내역
│  │    ├─── PDF 손익 리포트
│  │    └─── TXT 연동 로그
│  ├─── 🗑️ 데이터 삭제 ▶
│  │    ├─── 거래 내역 삭제
│  │    └─── 캐시 삭제
│  └─── 🔄 동기화 설정
│
└─ 7. 👤 프로필 관리 ▶ (트리 구조 - 7개)
   ├─── 📷 프로필 사진
   ├─── ✏️ 닉네임 변경
   ├─── 📧 이메일 변경
   ├─── 📱 전화번호 변경
   ├─── 🔑 비밀번호 변경
   ├─── 📊 회원 정보 (조회만)
   └─── 🚪 회원 탈퇴
```

### 1.2 메뉴 유형

| 유형 | 메뉴 | 설명 |
|------|------|------|
| **단순 클릭** | 거래 시작일, 목표 설정 | 클릭 시 모달 열림 |
| **트리 구조** | 계좌 관리 ~ 프로필 관리 | 접기/펼치기 가능 |
| **2단계 트리** | 데이터 관리 | 하위에 또 트리 존재 |

---

## 2. 거래 시작일 설정

### 2.1 개요

**목적**: 거래를 시작한 날짜를 기록하여 누적 손익 계산의 기준일로 사용

**접근 방법**: My 설정 → 거래 시작일 설정 클릭

### 2.2 설정 방법

1. "거래 시작일 설정" 클릭
2. 모달창 열림
3. 날짜 선택 (달력)
4. "저장" 버튼 클릭

### 2.3 설정 화면

```
┌────────────────────────────────┐
│ 📅 거래 시작일 설정       [×] │
├────────────────────────────────┤
│                                │
│ 거래를 시작한 날짜를 선택하세요│
│                                │
│ ┌──────────────────────────┐  │
│ │     [2024년 1월▼]        │  │
│ │                          │  │
│ │  일 월 화 수 목 금 토    │  │
│ │     1  2  3  4  5  6     │  │
│ │  7  8  9 10 11 12 13     │  │
│ │ 14 [15]16 17 18 19 20    │  │
│ │ 21 22 23 24 25 26 27     │  │
│ │ 28 29 30 31              │  │
│ └──────────────────────────┘  │
│                                │
│ 선택한 날짜: 2024년 1월 15일   │
│                                │
│      [취소]  [저장]            │
│                                │
└────────────────────────────────┘
```

### 2.4 영향 범위

- **누적 손익 계산**: 시작일부터 현재까지의 모든 거래
- **통계 집계**: 시작일 기준으로 일/월/연 통계
- **회원 등급**: 가입일 아닌 거래 시작일 기준

---

## 3. 누적손익 목표 설정

### 3.1 개요

**목적**: 월간/연간 손익 목표를 설정하여 달성률 추적

**접근 방법**: My 설정 → 누적손익 목표 설정 클릭

### 3.2 설정 방법

1. "누적손익 목표 설정" 클릭
2. 월간 목표 금액 입력
3. 연간 목표 금액 입력
4. "저장" 버튼 클릭

### 3.3 설정 화면

```
┌────────────────────────────────┐
│ 🎯 누적손익 목표 설정     [×] │
├────────────────────────────────┤
│                                │
│ 월간 목표                       │
│ 월간 누적손익 목표 금액을       │
│ 설정합니다.                     │
│                                │
│ ┌──────────────────────────┐  │
│ │ 5320000                  │  │
│ └──────────────────────────┘  │
│ 단위: 원 (₩)                   │
│                                │
│ 연간 목표                       │
│ 연간 누적손익 목표 금액을       │
│ 설정합니다.                     │
│                                │
│ ┌──────────────────────────┐  │
│ │ 70000000                 │  │
│ └──────────────────────────┘  │
│ 단위: 원 (₩)                   │
│                                │
│      [취소]  [저장]            │
│                                │
└────────────────────────────────┘
```

### 3.4 목표 표시 위치

**My 누적손익 위젯**:
```
월 누적 손익: ₩5,160,000
목표 달성률: 97% ✅
```

**대시보드**:
```
월 누적손익: ₩5,160,000
████████████████████░ 97%
목표: ₩5,320,000
```

---

## 4. 계좌 관리

### 4.1 개요

**목적**: MT5 거래 계좌 연동 및 관리

**접근 방법**: My 설정 → 계좌 관리 ▶ 클릭 (펼침)

### 4.2 하위 메뉴 (4개)

#### 1) 📊 계좌 현황 보기

**기능**: 모든 연결된 계좌의 상태를 한 화면에서 확인

**표시 정보**:
- 연결 상태 (🟢 연결됨 / 🔴 연결 해제)
- 거래소 이름
- 잔고
- 월 손익
- 마지막 동기화 시간

**예시**:
```
┌─ 챌린지 계좌 ────────────────┐
│ 🟢 실시간 연동 중             │
│ Enso Markets                 │
│ 잔고: $3,580                 │
│ 월 손익: +₩8,500,000         │
│ 마지막 동기화: 5초 전         │
│ [상세] [설정] [연결해제]      │
└──────────────────────────────┘
```

#### 2) ➕ 새 계좌 추가

**기능**: 새로운 MT5 계좌 연동

**입력 항목**:
- 거래소 선택 (Enso Markets / INFINOX)
- 계좌 별칭 (예: 챌린지 계좌)
- API Key
- API Secret

**절차**:
1. "새 계좌 추가" 클릭
2. 거래소 선택
3. 계좌 별칭 입력
4. API Key 입력
5. API Secret 입력
6. "계좌 추가" 버튼 클릭
7. 연결 테스트 자동 실행
8. 성공 시 계좌 목록에 추가

#### 3) 🔗 연결된 계좌 관리

**기능**: 연결된 계좌 목록 조회 및 편집/삭제

**표시 정보**:
- 계좌 별칭
- 거래소
- 연결 상태
- API 키 (마스킹: `****`)

**가능한 작업**:
- 별칭 수정
- 연결 해제
- 계좌 삭제
- API 키 재설정

#### 4) 📜 연동 로그

**기능**: 계좌 동기화 이력 및 오류 로그 확인

**로그 유형**:
- INFO: 정상 동기화
- WARNING: 경고
- ERROR: 오류

**예시**:
```
[2024-12-07 10:25:32] [INFO] 챌린지 계좌 동기화 성공
[2024-12-07 10:25:17] [ERROR] 펀딩 A 계좌 동기화 실패 - API 키 만료
```

**필터**:
- 날짜 범위
- 계좌 선택
- 로그 레벨 (INFO/WARNING/ERROR)

---

## 5. API 연결 설정

### 5.1 개요

**목적**: MT5 API 연결 상태 관리 및 모니터링

**접근 방법**: My 설정 → API 연결 설정 ▶ 클릭

### 5.2 하위 메뉴 (5개)

#### 1) 🔑 API 키 관리

**기능**: API Key와 Secret 확인 및 관리

**표시 정보**:
- API Key (기본 마스킹: `****`)
- API Secret (기본 마스킹: `****`)
- 만료일
- 발급일

**가능한 작업**:
- 보기/숨기기 토글
- API 키 재발급
- 만료일 확인

**예시**:
```
API Key:
[enso_********************] [보기]

API Secret:
[************************] [보기]

만료일: 2025-12-31 (24일 남음)

[재발급]
```

#### 2) 🧪 연결 테스트

**기능**: API 연결 상태 자동 테스트

**테스트 항목**:
1. API 인증 (Key + Secret 유효성)
2. 계좌 정보 조회 가능 여부
3. 거래 내역 조회 가능 여부
4. 포지션 조회 가능 여부
5. 응답 속도 측정

**성공 결과**:
```
✅ API 인증 성공
✅ 계좌 정보 조회 성공
✅ 거래 내역 조회 성공
✅ 포지션 조회 성공

응답 속도: 145ms (양호)
상태: 정상 🟢
```

**실패 결과**:
```
❌ API 인증 실패

오류 코드: 401 Unauthorized
원인: API Key 또는 Secret이 잘못됨

해결 방법:
1. API 키를 다시 확인하세요
2. 거래소에서 API 키를 재발급하세요
```

#### 3) 🔐 권한 확인

**기능**: API 키의 권한 상태 확인

**권장 권한**:
- ✅ Read (조회) - 필수
- ❌ Trade (거래 실행) - 사용 안 함 (보안)
- ❌ Withdraw (출금) - 절대 금지

**표시 화면**:
```
현재 API 키 권한:

✅ 계좌 정보 조회 (READ)
✅ 거래 내역 조회 (READ)
✅ 포지션 조회 (READ)
❌ 주문 실행 (TRADE) - 미사용
❌ 출금 (WITHDRAW) - 절대 금지

⚠️ HDH Fintech는 "조회 전용" API만 사용합니다.
```

#### 4) 📊 사용량 통계

**기능**: API 호출 횟수 및 Rate Limit 확인

**표시 정보**:
- 오늘 API 호출 횟수
- 이번 달 API 호출 횟수
- Rate Limit 상태 (분당/초당)
- 평균 응답 속도

**예시**:
```
오늘 사용량:
17,280건 / 100,000건 (17%)
████░░░░░░░░░░░░░░░░

이번 달 사용량:
450,000건 / 3,000,000건 (15%)
███░░░░░░░░░░░░░░░░░

속도 제한 (Rate Limit):
분당: 120건 / 200건 가능
초당: 2건 / 5건 가능

평균 응답 속도: 145ms
```

#### 5) ⏰ 만료 알림 설정

**기능**: API 키 만료 전 자동 알림

**알림 시점**:
- 만료 7일 전
- 만료 3일 전
- 만료 1일 전
- 만료 당일

**알림 내용**:
```
⚠️ API 키 만료 예정
챌린지 계좌의 API 키가 곧 만료됩니다.

거래소: Enso Markets
만료일: 2025-12-31 (3일 남음)

만료되면 계좌 연동이 자동으로 해제됩니다.

[지금 재발급하기]
```

---

## 6. 알림 설정

### 6.1 개요

**목적**: 중요 이벤트 발생 시 웹 푸시 알림 수신

**접근 방법**: My 설정 → 알림 설정 ▶ 클릭

**알림 방식**: 웹 푸시만 (이메일/SMS 제외)

### 6.2 알림 종류 (4가지만)

#### 1) 💰 포지션 청산 알림

**언제 발생**: 매매 포지션이 청산되었을 때

**알림 내용**:
```
💰 포지션 청산
챌린지 계좌에서 포지션이 청산되었습니다.

손익: +₩1,950,000
심볼: XAUUSD
진입: 2650 → 청산: 2671.5
LOT: 6.8

[상세 보기]
```

**손절인 경우**:
```
⚠️ 포지션 청산 (손절)
보험금 계좌에서 포지션이 청산되었습니다.

손익: -₩194,000
심볼: XAUUSD
진입: 2650 → 청산: 2671.5 (SL)
LOT: 0.9
```

**기본 설정**: ☑ ON

#### 2) 🔗 계좌 연동 알림

**언제 발생**:
- 계좌 연결이 해제되었을 때
- 계좌 재연결 성공했을 때

**알림 내용**:
```
🔴 계좌 연동 해제
펀딩 A 계좌의 연결이 해제되었습니다.

거래소: INFINOX
오류: API 키 만료

[재연결하기]
```

**기본 설정**: ☑ ON

#### 3) ⚠️ 동기화 오류 알림

**언제 발생**: 5회 이상 연속 동기화 실패

**알림 내용**:
```
⚠️ 동기화 오류
챌린지 계좌 데이터 동기화에 실패했습니다.

오류 횟수: 5회
자동 재시도 중...

[계좌 설정 확인]
```

**기본 설정**: ☑ ON

#### 4) 🔴 API 오류 알림

**언제 발생**:
- API 연결 실패
- API 키 만료
- API 권한 오류

**알림 내용**:
```
🔴 API 연결 오류
챌린지 계좌의 API 연결에 실패했습니다.

거래소: Enso Markets
오류: 인증 실패 (401)
원인: API 키 또는 Secret이 잘못되었습니다.

[API 설정 확인]
```

**기본 설정**: ☑ ON

### 6.3 알림 ON/OFF

**방법**: 체크박스 클릭

```
☑ 💰 포지션 청산 알림   ← 클릭으로 ON/OFF
☑ 🔗 계좌 연동 알림
☑ ⚠️ 동기화 오류 알림
☑ 🔴 API 오류 알림
```

**저장**: 체크박스 변경 시 즉시 저장

---

## 7. 데이터 관리

### 7.1 개요

**목적**: 거래 데이터 다운로드, 삭제, 동기화 관리

**접근 방법**: My 설정 → 데이터 관리 ▶ 클릭

### 7.2 하위 메뉴 (2단계 트리)

#### 1) 📥 데이터 다운로드 (2단계)

##### a) CSV 거래 내역

**포함 정보**:
```csv
일시,계좌명,거래소,심볼,방향,LOT,진입가,청산가,손익(원),손익(달러),수수료
2024-12-07 10:25,챌린지 계좌,Enso Markets,XAUUSD,매수,6.8,2650,2671.5,1950000,1463,0
```

**다운로드 옵션**:
- 기간: 1개월/3개월/6개월/1년/전체/사용자 지정
- 계좌: 전체 또는 개별 선택
- 형식: CSV / Excel (.xlsx)

**사용 목적**:
- 엑셀 분석
- 세무 신고
- 백업

##### b) PDF 손익 리포트

**포함 내용**:
- Page 1: 표지
- Page 2: 손익 요약
- Page 3: 월별 손익 그래프
- Page 4: 계좌별 손익 비교
- Page 5: 거래 통계
- Page 6-10: 상세 거래 내역

**다운로드 옵션**:
- 기간: 이번 달/3개월/6개월/올해/사용자 지정
- 리포트 유형: 표준 (10페이지) / 요약 (3페이지)

**사용 목적**:
- 투자 실적 보고서
- 세무 신고 증빙
- 투자 분석

##### c) TXT 연동 로그

**포함 정보**:
```
[2024-12-07 10:25:32] [INFO] 챌린지 계좌 동기화 성공 (5초)
[2024-12-07 10:25:17] [ERROR] 펀딩 A 계좌 동기화 실패 - API 키 만료
```

**다운로드 옵션**:
- 기간: 1일/3일/7일/30일
- 계좌: 전체 또는 개별 선택
- 로그 레벨: ERROR/WARNING/INFO/DEBUG

**사용 목적**:
- 오류 원인 파악
- 기술 지원 요청 시 첨부

#### 2) 🗑️ 데이터 삭제 (2단계)

##### a) 거래 내역 삭제

**삭제 대상**:
- 3개월 이전 데이터
- 6개월 이전 데이터
- 1년 이전 데이터
- 사용자 지정

**주의사항**:
```
⚠️ 경고
삭제된 데이터는 복구할 수 없습니다.
삭제 전 반드시 백업하세요.

[백업 먼저 하기]
```

**삭제 프로세스**:
1. 백업 권장 알림
2. 삭제 대상 확인
3. 동의 체크박스
4. 삭제 실행

##### b) 캐시 삭제

**삭제 대상**:
- 이미지 캐시 (~15MB)
- API 응답 캐시 (~3MB)
- 임시 파일 (~8MB)

**효과**:
- 총 ~26MB 절약
- 오래된 데이터 제거

**주의사항**:
```
※ 캐시 삭제 후 페이지 로딩이 일시적으로 느려질 수 있습니다.
```

#### 3) 🔄 동기화 설정

**자동 동기화 간격**:
- 5초마다 (권장) ← 기본
- 10초마다
- 30초마다
- 1분마다
- 수동만

**동기화 옵션**:
- ☑ 거래 내역 자동 동기화
- ☑ 잔고 자동 동기화
- ☑ 포지션 자동 동기화
- ☑ 오류 발생 시 자동 재시도 (최대 5회)

**수동 동기화**:
```
[지금 동기화 실행] 버튼

마지막 동기화: 5초 전
다음 동기화: 5초 후
```

---

## 8. 프로필 관리

### 8.1 개요

**목적**: 회원 정보 수정 및 계정 관리

**접근 방법**: My 설정 → 프로필 관리 ▶ 클릭

### 8.2 하위 메뉴 (7개)

#### 1) 📷 프로필 사진

**기능**: 프로필 사진 업로드 및 변경

**지원 형식**: JPG, PNG
**최대 크기**: 2MB

**절차**:
1. "프로필 사진" 클릭
2. 파일 선택 창 열림
3. 이미지 선택
4. 크기 확인 (2MB 이하)
5. 미리보기 표시
6. 업로드 완료

#### 2) ✏️ 닉네임 변경

**제한사항**:
- 2~10자 이내
- 한글, 영문, 숫자 가능
- 특수문자 불가
- 중복 확인 필요

**절차**:
1. "닉네임 변경" 클릭
2. 새 닉네임 입력
3. 중복 확인 (자동)
4. 저장

**사용 위치**:
- 우측 상단 헤더
- 랭킹 보드
- 커뮤니티 게시글

#### 3) 📧 이메일 변경

**절차**:
1. "이메일 변경" 클릭
2. 새 이메일 입력
3. 인증 메일 발송
4. 메일에서 인증 완료
5. 변경 완료

**주의사항**:
- 로그인 ID가 이메일인 경우 재로그인 필요
- 기존 이메일로도 확인 코드 전송

#### 4) 📱 전화번호 변경

**절차**:
1. "전화번호 변경" 클릭
2. 새 전화번호 입력
3. SMS 인증번호 발송
4. 인증번호 입력
5. 변경 완료

**사용 위치**:
- SMS 알림 (선택 시)
- 비밀번호 찾기
- 2단계 인증 (미사용)

#### 5) 🔑 비밀번호 변경

**절차**:
1. "비밀번호 변경" 클릭
2. 현재 비밀번호 입력
3. 새 비밀번호 입력
4. 새 비밀번호 확인
5. 변경 완료

**비밀번호 요구사항**:
- 8자 이상
- 영문 + 숫자 + 특수문자 조합 권장

#### 6) 📊 회원 정보

**표시 내용** (조회만 가능):
```
가입일: 2024년 1월 15일
회원 등급: Lv.10 (상위 1%)
총 거래 횟수: 247회
총 누적 손익: ₩58,920,000
```

**변경 불가**: 시스템이 자동으로 계산

#### 7) 🚪 회원 탈퇴

**탈퇴 절차**:

**1단계**: 탈퇴 사유 선택
```
○ 서비스 이용 빈도 낮음
○ 다른 서비스로 이동
○ 수익이 기대에 못 미침
○ 사용법이 어려움
○ 기타 (직접 입력)
```

**2단계**: 주의사항 확인
```
⚠️ 탈퇴 시 주의사항
• 모든 거래 내역 삭제
• 누적 손익 데이터 삭제
• 연결된 계좌 모두 해제
• 랭킹에서 제외
• 복구 불가능 (30일 이내)
```

**3단계**: 비밀번호 확인
```
본인 확인을 위해 비밀번호를 입력해주세요.

비밀번호: [          ]

☑️ 위 내용을 모두 확인했으며 탈퇴에 동의합니다.

[취소]  [탈퇴하기]
```

**탈퇴 후 처리**:

**즉시 삭제**:
- 개인정보 (이름, 이메일, 전화번호)
- 거래 내역
- 계좌 연동 정보

**보관 (법적 의무)**:
- 세금 관련 데이터 (5년)
- 거래 기록 (5년)

**복구 가능 기간**:
- 30일 이내 재가입 시 데이터 복구 가능
- 30일 이후 영구 삭제

---

## 9. 자주 묻는 질문 (FAQ)

### Q1. 계좌 관리에서 "새 계좌 추가"와 "연결된 계좌 관리"의 차이는?

**A**:
- **새 계좌 추가**: 처음 연동할 때 사용
- **연결된 계좌 관리**: 이미 연동된 계좌 수정/삭제

### Q2. API 키는 어디서 발급받나요?

**A**: 각 거래소 웹사이트에서 발급
- Enso Markets: 계정 설정 → API 관리
- INFINOX: 계정 설정 → API 키

### Q3. 알림을 이메일로도 받을 수 있나요?

**A**: 현재는 웹 푸시만 지원합니다. 이메일/SMS는 지원하지 않습니다.

### Q4. CSV 다운로드와 PDF 다운로드의 차이는?

**A**:
- **CSV**: 엑셀 분석용, 모든 거래 내역 포함
- **PDF**: 보고서용, 그래프와 통계 포함

### Q5. 데이터를 삭제하면 복구할 수 있나요?

**A**: 아니요, 삭제된 데이터는 복구 불가능합니다. 삭제 전 반드시 백업하세요.

### Q6. 회원 탈퇴 후 재가입하면 데이터가 복구되나요?

**A**: 30일 이내 재가입 시 복구 가능합니다. 30일 이후에는 영구 삭제됩니다.

### Q7. 동기화 간격을 왜 짧게 설정하나요?

**A**: 5초 간격 권장 이유:
- 실시간 손익 확인
- 빠른 데이터 업데이트
- 서버 부하는 충분히 처리 가능

### Q8. API 권한에서 "주문 실행" 권한을 왜 사용 안 하나요?

**A**: 보안상 위험하기 때문입니다. HDH는 조회 전용 API만 사용합니다.

---

## 10. 문제 해결 (Troubleshooting)

### 문제 1: 계좌 연동이 안 됩니다

**원인**:
- API 키가 잘못됨
- API 키가 만료됨
- API 권한이 부족함

**해결 방법**:
1. API 연결 설정 → 연결 테스트 실행
2. 오류 메시지 확인
3. 거래소에서 API 키 재발급
4. 새 API 키로 재연결

### 문제 2: 알림이 오지 않습니다

**원인**:
- 브라우저 알림 권한 차단
- 알림 설정 OFF

**해결 방법**:
1. 브라우저 설정 → 알림 허용 확인
2. My 설정 → 알림 설정 → 체크박스 확인

### 문제 3: 동기화가 실패합니다

**원인**:
- API 키 만료
- 네트워크 오류
- 거래소 서버 점검

**해결 방법**:
1. API 연결 설정 → 연결 테스트
2. 네트워크 연결 확인
3. 거래소 상태 확인

### 문제 4: 데이터 다운로드가 안 됩니다

**원인**:
- 브라우저 팝업 차단
- 다운로드 폴더 권한 문제

**해결 방법**:
1. 브라우저 팝업 허용 설정
2. 다운로드 폴더 권한 확인
3. 다른 브라우저로 시도

---

## 11. 업데이트 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0 | 2025-12-07 | 초기 버전 작성 |
|  |  | - 트리 구조 메뉴 적용 |
|  |  | - API 연결 설정 추가 |
|  |  | - 알림 설정 4가지로 정리 |
|  |  | - 데이터 관리 2단계 트리 |
|  |  | - 프로필 관리 통합 |

---

**문서 버전**: 1.0
**최종 수정**: 2025-12-07
**작성자**: HDH Fintech 개발팀
