const fs = require('fs');
const path = require('path');

const templatesPath = path.join(__dirname, 'ordersheet_templates.json');
const templates = JSON.parse(fs.readFileSync(templatesPath, 'utf8'));

// í…œí”Œë¦¿ ìƒì„± í•¨ìˆ˜
function createTemplate(name, parent = null) {
  const displayName = parent ? `${parent} - ${name}` : name;

  return `# Order Sheet: ${displayName}

## ğŸ“‹ ì‘ì—… ëª©ì 
${getWorkPurpose(name, parent)}

## ğŸ¯ ì‘ì—… ë²”ìœ„
${getWorkScope(name, parent)}

## ğŸ“Œ ì£¼ìš” ê³ ë ¤ì‚¬í•­
${getConsiderations(name, parent)}

## ğŸ“‚ ì‚°ì¶œë¬¼
${getDeliverables(name, parent)}

## ğŸ’¬ íŠ¹ì´ì‚¬í•­
ì—¬ê¸°ì— ì¶”ê°€ ìš”êµ¬ì‚¬í•­ì„ ì‘ì„±í•˜ì„¸ìš”.
`;
}

// ì‘ì—… ëª©ì  ìƒì„±
function getWorkPurpose(name, parent) {
  const purposes = {
    // Phase 1: ê¸°íš
    'ë””ë ‰í† ë¦¬ êµ¬ì¡°': 'í”„ë¡œì íŠ¸ ì „ì²´ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì„¤ê³„ ë° ë¬¸ì„œí™”',
    'requirements': 'í”„ë¡œì íŠ¸ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì •ì˜ ë° ëª…ì„¸',
    'user_flows': 'ì‚¬ìš©ì í”Œë¡œìš° ì„¤ê³„ ë° ì‹œê°í™”',
    'workflows': 'ë¹„ì¦ˆë‹ˆìŠ¤ ì›Œí¬í”Œë¡œìš° ì„¤ê³„ ë° ë¬¸ì„œí™”',
    'ë””ìì¸ ê°€ì´ë“œë¼ì¸': 'UI/UX ë””ìì¸ ê°€ì´ë“œë¼ì¸ ë° ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ìˆ˜ë¦½',
    'ëª©ì—…': 'UI ëª©ì—… ë° í™”ë©´ ì„¤ê³„',
    'í”„ë¡œí† íƒ€ì…': 'ì¸í„°ë™í‹°ë¸Œ í”„ë¡œí† íƒ€ì… ì œì‘',
    'ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„': 'ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë° ERD ì„¤ê³„',

    // Phase 2: ê°œë°œì¤€ë¹„
    'Docker': 'Docker ì»¨í…Œì´ë„ˆ í™˜ê²½ ì„¤ì •',
    'Environment': 'ê°œë°œ í™˜ê²½ ë³€ìˆ˜ ë° ì„¤ì • íŒŒì¼ êµ¬ì„±',
    'Git': 'Git ì €ì¥ì†Œ ì„¤ì • ë° ë¸Œëœì¹˜ ì „ëµ ìˆ˜ë¦½',
    'Node': 'Node.js í™˜ê²½ ì„¤ì • ë° íŒ¨í‚¤ì§€ ê´€ë¦¬',
    'Supabase': 'Supabase í”„ë¡œì íŠ¸ ì„¤ì • ë° ì—°ë™',
    'Vercel': 'Vercel ë°°í¬ í™˜ê²½ ì„¤ì •',
    'manual': 'í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ ë§¤ë‰´ì–¼ ì‘ì„±',
    'project_grid': 'í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ êµ¬ì¡° ì„¤ê³„',
    'scripts': 'í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ ìë™í™” ìŠ¤í¬ë¦½íŠ¸',
    'tasks': 'í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ ì‘ì—… ê´€ë¦¬',
    'validation': 'í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ ê²€ì¦ ì‹œìŠ¤í…œ',

    // Phase 3: ê°œë°œ - í”„ë¡ íŠ¸ì—”ë“œ
    'css': 'CSS ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì‘ì„± ë° ê´€ë¦¬',
    'js': 'JavaScript ë¡œì§ êµ¬í˜„',
    'pages': 'HTML í˜ì´ì§€ êµ¬í˜„',
    'public': 'ì •ì  ë¦¬ì†ŒìŠ¤ ê´€ë¦¬',

    // Phase 3: ê°œë°œ - ì¸ì¦
    'Email_Auth': 'ì´ë©”ì¼ ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„',
    'Google_OAuth': 'Google OAuth 2.0 ì¸ì¦ ì—°ë™',
    'Session_Management': 'ì„¸ì…˜ ê´€ë¦¬ ë° ì¸ì¦ ìƒíƒœ ìœ ì§€',

    // Phase 3: ê°œë°œ - ë°±ì—”ë“œ
    'ë°±ì—”ë“œ ì¸í”„ë¼': 'ë°±ì—”ë“œ ì„œë²„ ì¸í”„ë¼ êµ¬ì¶•',

    // Phase 3: ê°œë°œ - ë°ì´í„°ë² ì´ìŠ¤
    'scripts': 'ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ì‹œë“œ ìŠ¤í¬ë¦½íŠ¸',

    // Phase 3: ê°œë°œ - ì™¸ë¶€ ì„œë¹„ìŠ¤
    'Email': 'ì´ë©”ì¼ ë°œì†¡ ì„œë¹„ìŠ¤ ì—°ë™',
    'Payments': 'ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™',

    // Phase 3: ê°œë°œ - í…ŒìŠ¤íŠ¸
    '1_api': 'API í…ŒìŠ¤íŠ¸ ì‘ì„± ë° ì‹¤í–‰',
    '2_auth': 'ì¸ì¦ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸',
    '3_e2e': 'E2E(End-to-End) í…ŒìŠ¤íŠ¸ êµ¬í˜„',
    '4_integration': 'í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±',
    '5_unit': 'ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±',

    // Phase 3: ê°œë°œ - ë°°í¬
    '.github': 'GitHub Actions ì›Œí¬í”Œë¡œìš° ì„¤ì •',
    'CI_CD': 'CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•',
    'Environment_Variables': 'ë°°í¬ í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬',
    'Production_Config': 'í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •',
    'Vercel_Deploy': 'Vercel ë°°í¬ ìë™í™”',

    // Phase 3: ê°œë°œ - ì•ˆì •í™”
    'Hotfix': 'ê¸´ê¸‰ ë²„ê·¸ ìˆ˜ì • ë° ë°°í¬',
    'Patch': 'íŒ¨ì¹˜ ë²„ì „ ì—…ë°ì´íŠ¸',
    'Performance_Tuning': 'ì„±ëŠ¥ ìµœì í™” ë° íŠœë‹',
    'Troubleshooting': 'ë¬¸ì œ í•´ê²° ë° ë””ë²„ê¹…'
  };

  return purposes[name] || `${name} ì‘ì—… ìˆ˜í–‰`;
}

// ì‘ì—… ë²”ìœ„ ìƒì„±
function getWorkScope(name, parent) {
  const scopes = {
    // Phase 1: ê¸°íš
    'ë””ë ‰í† ë¦¬ êµ¬ì¡°': '- [ ] í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì„¤ê³„\n- [ ] í´ë”ë³„ ìš©ë„ ì •ì˜\n- [ ] ë„¤ì´ë° ê·œì¹™ ìˆ˜ë¦½\n- [ ] ë””ë ‰í† ë¦¬ êµ¬ì¡° ë¬¸ì„œí™”',
    'requirements': '- [ ] ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì •ì˜\n- [ ] ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì •ì˜\n- [ ] ì‚¬ìš©ì ìŠ¤í† ë¦¬ ì‘ì„±\n- [ ] ìš°ì„ ìˆœìœ„ ì„¤ì •',
    'user_flows': '- [ ] ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš° ì„¤ê³„\n- [ ] í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨ ì‘ì„±\n- [ ] ì˜ˆì™¸ ìƒí™© í”Œë¡œìš° ì •ì˜\n- [ ] í”Œë¡œìš° ê²€ì¦',
    'workflows': '- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ë¶„ì„\n- [ ] ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨ ì‘ì„±\n- [ ] ìë™í™” ê°€ëŠ¥ ì˜ì—­ ì‹ë³„\n- [ ] ì›Œí¬í”Œë¡œìš° ë¬¸ì„œí™”',
    'ë””ìì¸ ê°€ì´ë“œë¼ì¸': '- [ ] ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ ì •ì˜\n- [ ] íƒ€ì´í¬ê·¸ë˜í”¼ ì„¤ì •\n- [ ] ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ\n- [ ] ì•„ì´ì½˜ ë° ì´ë¯¸ì§€ ê°€ì´ë“œë¼ì¸',
    'ëª©ì—…': '- [ ] ì™€ì´ì–´í”„ë ˆì„ ì‘ì„±\n- [ ] ëª©ì—… ë””ìì¸\n- [ ] ë°˜ì‘í˜• ë””ìì¸ ê³ ë ¤\n- [ ] ë””ìì¸ ë¦¬ë·°',
    'í”„ë¡œí† íƒ€ì…': '- [ ] ì¸í„°ë™í‹°ë¸Œ í”„ë¡œí† íƒ€ì… ì œì‘\n- [ ] ì‚¬ìš©ì í…ŒìŠ¤íŠ¸\n- [ ] í”¼ë“œë°± ìˆ˜ì§‘ ë° ë°˜ì˜\n- [ ] ìµœì¢… í”„ë¡œí† íƒ€ì… ê²€ì¦',
    'ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„': '- [ ] ì—”í‹°í‹° ì •ì˜\n- [ ] ERD ì‘ì„±\n- [ ] í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì„¤ê³„\n- [ ] ì¸ë±ìŠ¤ ë° ì œì•½ì¡°ê±´ ì •ì˜',

    // Phase 2: ê°œë°œì¤€ë¹„
    'Docker': '- [ ] Dockerfile ì‘ì„±\n- [ ] docker-compose.yml ì„¤ì •\n- [ ] ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ\n- [ ] ë¡œì»¬ í™˜ê²½ í…ŒìŠ¤íŠ¸',
    'Environment': '- [ ] .env íŒŒì¼ êµ¬ì¡° ì„¤ê³„\n- [ ] í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬\n- [ ] í™˜ê²½ ë³€ìˆ˜ ë¬¸ì„œí™”\n- [ ] ì‹œí¬ë¦¿ ê´€ë¦¬ ë°©ì•ˆ ìˆ˜ë¦½',
    'Git': '- [ ] Git ì €ì¥ì†Œ ì´ˆê¸°í™”\n- [ ] .gitignore ì„¤ì •\n- [ ] ë¸Œëœì¹˜ ì „ëµ ìˆ˜ë¦½\n- [ ] ì»¤ë°‹ ì»¨ë²¤ì…˜ ì •ì˜',
    'Node': '- [ ] Node.js ë²„ì „ ì„¤ì •\n- [ ] package.json êµ¬ì„±\n- [ ] ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜\n- [ ] ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´ ì •ì˜',
    'Supabase': '- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±\n- [ ] API í‚¤ ì„¤ì •\n- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°\n- [ ] ì—°ë™ í…ŒìŠ¤íŠ¸',
    'Vercel': '- [ ] Vercel í”„ë¡œì íŠ¸ ì—°ê²°\n- [ ] ë°°í¬ ì„¤ì •\n- [ ] í™˜ê²½ ë³€ìˆ˜ ë“±ë¡\n- [ ] ë„ë©”ì¸ ì„¤ì •',
    'manual': '- [ ] í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ ê°œë… ë¬¸ì„œí™”\n- [ ] ì‚¬ìš© ë°©ë²• ê°€ì´ë“œ ì‘ì„±\n- [ ] ì˜ˆì œ í¬í•¨\n- [ ] FAQ ì‘ì„±',
    'project_grid': '- [ ] ê·¸ë¦¬ë“œ êµ¬ì¡° ì„¤ê³„\n- [ ] Phase ì •ì˜\n- [ ] Task í…œí”Œë¦¿ ì‘ì„±\n- [ ] ê·¸ë¦¬ë“œ ì´ˆê¸°í™”',
    'scripts': '- [ ] ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±\n- [ ] ê·¸ë¦¬ë“œ ìƒì„± ìŠ¤í¬ë¦½íŠ¸\n- [ ] ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸\n- [ ] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜',
    'tasks': '- [ ] Task ì •ì˜\n- [ ] ìš°ì„ ìˆœìœ„ ì„¤ì •\n- [ ] ì˜ì¡´ì„± ê´€ë¦¬\n- [ ] ì§„í–‰ ìƒí™© ì¶”ì ',
    'validation': '- [ ] ê²€ì¦ ê·œì¹™ ì •ì˜\n- [ ] ìë™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸\n- [ ] ê²€ì¦ ë¦¬í¬íŠ¸ ìƒì„±\n- [ ] ê²€ì¦ ê²°ê³¼ ì²˜ë¦¬',

    // Phase 3: ê°œë°œ - í”„ë¡ íŠ¸ì—”ë“œ
    'css': '- [ ] ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼ ì •ì˜\n- [ ] ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤íƒ€ì¼ ì‘ì„±\n- [ ] ë°˜ì‘í˜• CSS\n- [ ] CSS ìµœì í™”',
    'js': '- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„\n- [ ] ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬\n- [ ] API í†µì‹ \n- [ ] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜',
    'pages': '- [ ] HTML í˜ì´ì§€ êµ¬ì¡°\n- [ ] í˜ì´ì§€ë³„ ê¸°ëŠ¥ êµ¬í˜„\n- [ ] SEO ìµœì í™”\n- [ ] ì ‘ê·¼ì„± ê°œì„ ',
    'public': '- [ ] ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬\n- [ ] í°íŠ¸ íŒŒì¼ ê´€ë¦¬\n- [ ] ì •ì  ìì‚° ìµœì í™”\n- [ ] ë¦¬ì†ŒìŠ¤ ë¡œë”© ìµœì í™”',

    // Phase 3: ê°œë°œ - ì¸ì¦
    'Email_Auth': '- [ ] ì´ë©”ì¼ íšŒì›ê°€ì…\n- [ ] ì´ë©”ì¼ ì¸ì¦\n- [ ] ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”\n- [ ] ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ',
    'Google_OAuth': '- [ ] Google OAuth ì„¤ì •\n- [ ] OAuth í”Œë¡œìš° êµ¬í˜„\n- [ ] ì‚¬ìš©ì ì •ë³´ ì—°ë™\n- [ ] í† í° ê´€ë¦¬',
    'Session_Management': '- [ ] ì„¸ì…˜ ìƒì„± ë° ì €ì¥\n- [ ] ì„¸ì…˜ ê²€ì¦\n- [ ] ì„¸ì…˜ ë§Œë£Œ ì²˜ë¦¬\n- [ ] ë³´ì•ˆ ê°•í™”',

    // Phase 3: ê°œë°œ - ë°±ì—”ë“œ
    'ë°±ì—”ë“œ ì¸í”„ë¼': '- [ ] ì„œë²„ êµ¬ì¡° ì„¤ê³„\n- [ ] API ì„œë²„ êµ¬ì¶•\n- [ ] ë¯¸ë“¤ì›¨ì–´ ì„¤ì •\n- [ ] ì—ëŸ¬ í•¸ë“¤ë§',

    // Phase 3: ê°œë°œ - ë°ì´í„°ë² ì´ìŠ¤
    'scripts': '- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸\n- [ ] ì‹œë“œ ë°ì´í„° ìƒì„±\n- [ ] ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸\n- [ ] ë°±ì—… ìŠ¤í¬ë¦½íŠ¸',

    // Phase 3: ê°œë°œ - ì™¸ë¶€ ì„œë¹„ìŠ¤
    'Email': '- [ ] ì´ë©”ì¼ ì„œë¹„ìŠ¤ ì—°ë™\n- [ ] í…œí”Œë¦¿ ì‘ì„±\n- [ ] ë°œì†¡ ë¡œì§ êµ¬í˜„\n- [ ] ë°œì†¡ í…ŒìŠ¤íŠ¸',
    'Payments': '- [ ] ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™\n- [ ] ê²°ì œ í”Œë¡œìš° êµ¬í˜„\n- [ ] Webhook ì²˜ë¦¬\n- [ ] ê²°ì œ í…ŒìŠ¤íŠ¸',

    // Phase 3: ê°œë°œ - í…ŒìŠ¤íŠ¸
    '1_api': '- [ ] API í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±\n- [ ] ìš”ì²­/ì‘ë‹µ ê²€ì¦\n- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸\n- [ ] í…ŒìŠ¤íŠ¸ ìë™í™”',
    '2_auth': '- [ ] ì¸ì¦ í”Œë¡œìš° í…ŒìŠ¤íŠ¸\n- [ ] ê¶Œí•œ ê²€ì¦ í…ŒìŠ¤íŠ¸\n- [ ] ì„¸ì…˜ í…ŒìŠ¤íŠ¸\n- [ ] ë³´ì•ˆ í…ŒìŠ¤íŠ¸',
    '3_e2e': '- [ ] E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±\n- [ ] í…ŒìŠ¤íŠ¸ ìë™í™”\n- [ ] ì£¼ìš” í”Œë¡œìš° ê²€ì¦\n- [ ] ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸',
    '4_integration': '- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤\n- [ ] ì»´í¬ë„ŒíŠ¸ ê°„ ì—°ë™ í…ŒìŠ¤íŠ¸\n- [ ] ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™ í…ŒìŠ¤íŠ¸\n- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ìë™í™”',
    '5_unit': '- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±\n- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ë³´\n- [ ] ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸\n- [ ] Mock/Stub í™œìš©',

    // Phase 3: ê°œë°œ - ë°°í¬
    '.github': '- [ ] GitHub Actions ì›Œí¬í”Œë¡œìš°\n- [ ] ìë™ ë¹Œë“œ ì„¤ì •\n- [ ] ìë™ ë°°í¬ ì„¤ì •\n- [ ] ì•Œë¦¼ ì„¤ì •',
    'CI_CD': '- [ ] CI íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n- [ ] CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n- [ ] í…ŒìŠ¤íŠ¸ ìë™í™” í†µí•©\n- [ ] ë°°í¬ ì „ëµ ìˆ˜ë¦½',
    'Environment_Variables': '- [ ] í™˜ê²½ë³„ ë³€ìˆ˜ ì •ì˜\n- [ ] ì‹œí¬ë¦¿ ê´€ë¦¬\n- [ ] í™˜ê²½ ë³€ìˆ˜ ì•”í˜¸í™”\n- [ ] ë³€ìˆ˜ ë¬¸ì„œí™”',
    'Production_Config': '- [ ] í”„ë¡œë•ì…˜ ì„¤ì • ìµœì í™”\n- [ ] ë³´ì•ˆ ì„¤ì •\n- [ ] ì„±ëŠ¥ ì„¤ì •\n- [ ] ë¡œê¹… ì„¤ì •',
    'Vercel_Deploy': '- [ ] Vercel ë°°í¬ ì„¤ì •\n- [ ] ë°°í¬ ìë™í™”\n- [ ] í”„ë¦¬ë·° ë°°í¬ ì„¤ì •\n- [ ] ë„ë©”ì¸ ì—°ê²°',

    // Phase 3: ê°œë°œ - ì•ˆì •í™”
    'Hotfix': '- [ ] ê¸´ê¸‰ ì´ìŠˆ íŒŒì•…\n- [ ] í•«í”½ìŠ¤ ê°œë°œ\n- [ ] ê¸´ê¸‰ ë°°í¬\n- [ ] ì‚¬í›„ ë¶„ì„',
    'Patch': '- [ ] ë²„ê·¸ ìˆ˜ì •\n- [ ] íŒ¨ì¹˜ ë²„ì „ ì—…ë°ì´íŠ¸\n- [ ] íŒ¨ì¹˜ ë…¸íŠ¸ ì‘ì„±\n- [ ] íŒ¨ì¹˜ ë°°í¬',
    'Performance_Tuning': '- [ ] ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§\n- [ ] ë³‘ëª© ì§€ì  ì‹ë³„\n- [ ] ìµœì í™” ì ìš©\n- [ ] ì„±ëŠ¥ ê²€ì¦',
    'Troubleshooting': '- [ ] ì´ìŠˆ ì¬í˜„\n- [ ] ì›ì¸ ë¶„ì„\n- [ ] í•´ê²° ë°©ì•ˆ ìˆ˜ë¦½\n- [ ] í•´ê²° ë° ê²€ì¦'
  };

  return scopes[name] || '- [ ] ì‘ì—… í•­ëª© 1\n- [ ] ì‘ì—… í•­ëª© 2\n- [ ] ì‘ì—… í•­ëª© 3';
}

// ì£¼ìš” ê³ ë ¤ì‚¬í•­ ìƒì„±
function getConsiderations(name, parent) {
  const considerations = {
    // Phase 1: ê¸°íš
    'ë””ë ‰í† ë¦¬ êµ¬ì¡°': '1. í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°\n2. ëª…í™•í•œ ë„¤ì´ë°\n3. í‘œì¤€ ê·œì¹™ ì¤€ìˆ˜',
    'requirements': '1. ëª…í™•ì„±ê³¼ ì™„ê²°ì„±\n2. ì¸¡ì • ê°€ëŠ¥ì„±\n3. ìš°ì„ ìˆœìœ„ ê¸°ë°˜ êµ¬í˜„',
    'user_flows': '1. ì‚¬ìš©ì ê´€ì  ì¤‘ì‹¬\n2. ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬\n3. í”Œë¡œìš° ê°„ ì¼ê´€ì„±',
    'workflows': '1. íš¨ìœ¨ì„±ê³¼ ì •í™•ì„±\n2. ìë™í™” ê°€ëŠ¥ì„±\n3. ë³€ê²½ ê°€ëŠ¥ì„±',
    'ë””ìì¸ ê°€ì´ë“œë¼ì¸': '1. ì¼ê´€ì„± ìœ ì§€\n2. ì ‘ê·¼ì„± ê³ ë ¤\n3. ë°˜ì‘í˜• ë””ìì¸',
    'ëª©ì—…': '1. ì‚¬ìš©ì ê²½í—˜\n2. ë””ìì¸ ì‹œìŠ¤í…œ ì¤€ìˆ˜\n3. ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ',
    'í”„ë¡œí† íƒ€ì…': '1. ì¸í„°ë™ì…˜ í’ˆì§ˆ\n2. ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸\n3. í”¼ë“œë°± ë°˜ì˜',
    'ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„': '1. ì •ê·œí™”\n2. ì„±ëŠ¥ ìµœì í™”\n3. í™•ì¥ì„±',

    // Phase 2: ê°œë°œì¤€ë¹„
    'Docker': '1. ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”\n2. ë ˆì´ì–´ ìºì‹±\n3. ë³´ì•ˆ',
    'Environment': '1. í™˜ê²½ë³„ ë¶„ë¦¬\n2. ì‹œí¬ë¦¿ ë³´ì•ˆ\n3. ë¬¸ì„œí™”',
    'Git': '1. ë¸Œëœì¹˜ ì „ëµ\n2. ì»¤ë°‹ ì»¨ë²¤ì…˜\n3. ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤',
    'Node': '1. ë²„ì „ í˜¸í™˜ì„±\n2. ì˜ì¡´ì„± ê´€ë¦¬\n3. ë³´ì•ˆ ì·¨ì•½ì ',
    'Supabase': '1. ë³´ì•ˆ ì„¤ì •\n2. ì„±ëŠ¥ ìµœì í™”\n3. ë¹„ìš© ê´€ë¦¬',
    'Vercel': '1. ë¹Œë“œ ìµœì í™”\n2. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬\n3. ë°°í¬ ì „ëµ',
    'manual': '1. ëª…í™•ì„±\n2. ì™„ê²°ì„±\n3. ì—…ë°ì´íŠ¸ ìš©ì´ì„±',
    'project_grid': '1. êµ¬ì¡° ì¼ê´€ì„±\n2. í™•ì¥ ê°€ëŠ¥ì„±\n3. ìœ ì§€ë³´ìˆ˜ì„±',
    'scripts': '1. ì¬ì‚¬ìš©ì„±\n2. ì—ëŸ¬ í•¸ë“¤ë§\n3. ë¡œê¹…',
    'tasks': '1. ëª…í™•í•œ ì •ì˜\n2. ì˜ì¡´ì„± ê´€ë¦¬\n3. ì¶”ì  ê°€ëŠ¥ì„±',
    'validation': '1. ì •í™•ì„±\n2. ì„±ëŠ¥\n3. ìë™í™”',

    // Phase 3: ê°œë°œ - í”„ë¡ íŠ¸ì—”ë“œ
    'css': '1. ì„±ëŠ¥ ìµœì í™”\n2. ìœ ì§€ë³´ìˆ˜ì„±\n3. ë¸Œë¼ìš°ì € í˜¸í™˜ì„±',
    'js': '1. ì½”ë“œ í’ˆì§ˆ\n2. ì„±ëŠ¥\n3. ì—ëŸ¬ í•¸ë“¤ë§',
    'pages': '1. SEO\n2. ì ‘ê·¼ì„±\n3. ì„±ëŠ¥',
    'public': '1. ë¡œë”© ìµœì í™”\n2. ìºì‹± ì „ëµ\n3. CDN í™œìš©',

    // Phase 3: ê°œë°œ - ì¸ì¦
    'Email_Auth': '1. ë³´ì•ˆ\n2. ì‚¬ìš©ì ê²½í—˜\n3. ì—ëŸ¬ ì²˜ë¦¬',
    'Google_OAuth': '1. OAuth 2.0 í‘œì¤€ ì¤€ìˆ˜\n2. í† í° ë³´ì•ˆ\n3. ì—ëŸ¬ í•¸ë“¤ë§',
    'Session_Management': '1. ì„¸ì…˜ ë³´ì•ˆ\n2. ì„±ëŠ¥\n3. í™•ì¥ì„±',

    // Phase 3: ê°œë°œ - ë°±ì—”ë“œ
    'ë°±ì—”ë“œ ì¸í”„ë¼': '1. í™•ì¥ì„±\n2. ì•ˆì •ì„±\n3. ë³´ì•ˆ',

    // Phase 3: ê°œë°œ - ë°ì´í„°ë² ì´ìŠ¤
    'scripts': '1. ë©±ë“±ì„±\n2. ë¡¤ë°± ê°€ëŠ¥ì„±\n3. í…ŒìŠ¤íŠ¸',

    // Phase 3: ê°œë°œ - ì™¸ë¶€ ì„œë¹„ìŠ¤
    'Email': '1. ë°œì†¡ ì„±ê³µë¥ \n2. ìŠ¤íŒ¸ í•„í„° íšŒí”¼\n3. í…œí”Œë¦¿ ê´€ë¦¬',
    'Payments': '1. ë³´ì•ˆ\n2. PCI DSS ì¤€ìˆ˜\n3. ì—ëŸ¬ ì²˜ë¦¬',

    // Phase 3: ê°œë°œ - í…ŒìŠ¤íŠ¸
    '1_api': '1. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€\n2. í…ŒìŠ¤íŠ¸ ê²©ë¦¬\n3. ìë™í™”',
    '2_auth': '1. ë³´ì•ˆ í…ŒìŠ¤íŠ¸\n2. ì—£ì§€ ì¼€ì´ìŠ¤\n3. ìë™í™”',
    '3_e2e': '1. ì‹¤ì œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤\n2. ì•ˆì •ì„±\n3. ì‹¤í–‰ ì‹œê°„',
    '4_integration': '1. í…ŒìŠ¤íŠ¸ ê²©ë¦¬\n2. Mock í™œìš©\n3. ìë™í™”',
    '5_unit': '1. í…ŒìŠ¤íŠ¸ ë…ë¦½ì„±\n2. ì»¤ë²„ë¦¬ì§€\n3. ì†ë„',

    // Phase 3: ê°œë°œ - ë°°í¬
    '.github': '1. ìë™í™”\n2. ë³´ì•ˆ\n3. ì•Œë¦¼',
    'CI_CD': '1. ë¹Œë“œ ì†ë„\n2. ì•ˆì •ì„±\n3. ë¡¤ë°± ì „ëµ',
    'Environment_Variables': '1. ë³´ì•ˆ\n2. ê´€ë¦¬ í¸ì˜ì„±\n3. ë¬¸ì„œí™”',
    'Production_Config': '1. ì„±ëŠ¥ ìµœì í™”\n2. ë³´ì•ˆ ê°•í™”\n3. ëª¨ë‹ˆí„°ë§',
    'Vercel_Deploy': '1. ë°°í¬ ì†ë„\n2. ìë™í™”\n3. ë¡¤ë°± ì „ëµ',

    // Phase 3: ê°œë°œ - ì•ˆì •í™”
    'Hotfix': '1. ì‹ ì†ì„±\n2. ì •í™•ì„±\n3. ì‚¬í›„ ë¶„ì„',
    'Patch': '1. í•˜ìœ„ í˜¸í™˜ì„±\n2. í…ŒìŠ¤íŠ¸\n3. ë¬¸ì„œí™”',
    'Performance_Tuning': '1. ì¸¡ì • ê¸°ë°˜ ìµœì í™”\n2. ì‚¬ìš©ì ê²½í—˜\n3. ë¦¬ì†ŒìŠ¤ íš¨ìœ¨',
    'Troubleshooting': '1. ì²´ê³„ì  ì ‘ê·¼\n2. ë¬¸ì„œí™”\n3. ì¬ë°œ ë°©ì§€'
  };

  return considerations[name] || '1. ê³ ë ¤ì‚¬í•­ 1\n2. ê³ ë ¤ì‚¬í•­ 2\n3. ê³ ë ¤ì‚¬í•­ 3';
}

// ì‚°ì¶œë¬¼ ìƒì„±
function getDeliverables(name, parent) {
  const deliverables = {
    // Phase 1: ê¸°íš
    'ë””ë ‰í† ë¦¬ êµ¬ì¡°': '- PROJECT_DIRECTORY_STRUCTURE.md\n- ë””ë ‰í† ë¦¬ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨',
    'requirements': '- ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ\n- ì‚¬ìš©ì ìŠ¤í† ë¦¬\n- ìš°ì„ ìˆœìœ„ ë¬¸ì„œ',
    'user_flows': '- ì‚¬ìš©ì í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨\n- í”Œë¡œìš° ì„¤ëª… ë¬¸ì„œ',
    'workflows': '- ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨\n- í”„ë¡œì„¸ìŠ¤ ë¬¸ì„œ',
    'ë””ìì¸ ê°€ì´ë“œë¼ì¸': '- ë””ìì¸ ê°€ì´ë“œ ë¬¸ì„œ\n- ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬',
    'ëª©ì—…': '- í™”ë©´ ëª©ì—… íŒŒì¼\n- ëª©ì—… ì„¤ëª… ë¬¸ì„œ',
    'í”„ë¡œí† íƒ€ì…': '- ì¸í„°ë™í‹°ë¸Œ í”„ë¡œí† íƒ€ì…\n- ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸',
    'ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„': '- ERD ë‹¤ì´ì–´ê·¸ë¨\n- ìŠ¤í‚¤ë§ˆ ë¬¸ì„œ',

    // Phase 2: ê°œë°œì¤€ë¹„
    'Docker': '- Dockerfile\n- docker-compose.yml',
    'Environment': '- .env í…œí”Œë¦¿\n- í™˜ê²½ ë³€ìˆ˜ ë¬¸ì„œ',
    'Git': '- .gitignore\n- ë¸Œëœì¹˜ ì „ëµ ë¬¸ì„œ',
    'Node': '- package.json\n- package-lock.json',
    'Supabase': '- Supabase ì„¤ì • ë¬¸ì„œ\n- ì—°ë™ ê°€ì´ë“œ',
    'Vercel': '- Vercel ì„¤ì • íŒŒì¼\n- ë°°í¬ ê°€ì´ë“œ',
    'manual': '- í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ ë§¤ë‰´ì–¼',
    'project_grid': '- í”„ë¡œì íŠ¸ ê·¸ë¦¬ë“œ êµ¬ì¡° íŒŒì¼',
    'scripts': '- ìë™í™” ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼',
    'tasks': '- Task ì •ì˜ íŒŒì¼',
    'validation': '- ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸\n- ê²€ì¦ ë¦¬í¬íŠ¸',

    // Phase 3: ê°œë°œ - í”„ë¡ íŠ¸ì—”ë“œ
    'css': '- CSS íŒŒì¼\n- ìŠ¤íƒ€ì¼ ê°€ì´ë“œ',
    'js': '- JavaScript íŒŒì¼\n- í•¨ìˆ˜ ë¬¸ì„œ',
    'pages': '- HTML í˜ì´ì§€\n- í˜ì´ì§€ ë¬¸ì„œ',
    'public': '- ì´ë¯¸ì§€ íŒŒì¼\n- í°íŠ¸ íŒŒì¼\n- ê¸°íƒ€ ì •ì  ë¦¬ì†ŒìŠ¤',

    // Phase 3: ê°œë°œ - ì¸ì¦
    'Email_Auth': '- ì¸ì¦ API\n- ì¸ì¦ ì»´í¬ë„ŒíŠ¸\n- ì¸ì¦ ë¬¸ì„œ',
    'Google_OAuth': '- OAuth ì—°ë™ ì½”ë“œ\n- OAuth ì„¤ì • ë¬¸ì„œ',
    'Session_Management': '- ì„¸ì…˜ ê´€ë¦¬ ì½”ë“œ\n- ì„¸ì…˜ ì •ì±… ë¬¸ì„œ',

    // Phase 3: ê°œë°œ - ë°±ì—”ë“œ
    'ë°±ì—”ë“œ ì¸í”„ë¼': '- ì„œë²„ ì½”ë“œ\n- API ë¬¸ì„œ\n- ì¸í”„ë¼ êµ¬ì„±ë„',

    // Phase 3: ê°œë°œ - ë°ì´í„°ë² ì´ìŠ¤
    'scripts': '- ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸\n- ì‹œë“œ ìŠ¤í¬ë¦½íŠ¸',

    // Phase 3: ê°œë°œ - ì™¸ë¶€ ì„œë¹„ìŠ¤
    'Email': '- ì´ë©”ì¼ ë°œì†¡ ì½”ë“œ\n- ì´ë©”ì¼ í…œí”Œë¦¿',
    'Payments': '- ê²°ì œ ì—°ë™ ì½”ë“œ\n- ê²°ì œ í”Œë¡œìš° ë¬¸ì„œ',

    // Phase 3: ê°œë°œ - í…ŒìŠ¤íŠ¸
    '1_api': '- API í…ŒìŠ¤íŠ¸ ì½”ë“œ\n- í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸',
    '2_auth': '- ì¸ì¦ í…ŒìŠ¤íŠ¸ ì½”ë“œ\n- í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸',
    '3_e2e': '- E2E í…ŒìŠ¤íŠ¸ ì½”ë“œ\n- í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸',
    '4_integration': '- í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œ\n- í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸',
    '5_unit': '- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œ\n- ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸',

    // Phase 3: ê°œë°œ - ë°°í¬
    '.github': '- GitHub Actions ì›Œí¬í”Œë¡œìš° íŒŒì¼',
    'CI_CD': '- CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •\n- ë°°í¬ ë¬¸ì„œ',
    'Environment_Variables': '- í™˜ê²½ ë³€ìˆ˜ ëª©ë¡\n- ê´€ë¦¬ ë¬¸ì„œ',
    'Production_Config': '- í”„ë¡œë•ì…˜ ì„¤ì • íŒŒì¼\n- ì„¤ì • ë¬¸ì„œ',
    'Vercel_Deploy': '- Vercel ë°°í¬ ì„¤ì •\n- ë°°í¬ ê°€ì´ë“œ',

    // Phase 3: ê°œë°œ - ì•ˆì •í™”
    'Hotfix': '- í•«í”½ìŠ¤ ì½”ë“œ\n- ì‚¬í›„ ë¶„ì„ ë¬¸ì„œ',
    'Patch': '- íŒ¨ì¹˜ ì½”ë“œ\n- íŒ¨ì¹˜ ë…¸íŠ¸',
    'Performance_Tuning': '- ìµœì í™” ì½”ë“œ\n- ì„±ëŠ¥ ë¶„ì„ ë¦¬í¬íŠ¸',
    'Troubleshooting': '- í•´ê²° ë°©ì•ˆ ë¬¸ì„œ\n- ì´ìŠˆ ë¶„ì„ ë¦¬í¬íŠ¸'
  };

  return deliverables[name] || '- ì‚°ì¶œë¬¼ 1\n- ì‚°ì¶œë¬¼ 2';
}

// TODOë¥¼ ì‹¤ì œ í…œí”Œë¦¿ìœ¼ë¡œ êµì²´
let updated = 0;
Object.keys(templates).forEach(key => {
  if (templates[key].template === 'TODO') {
    const name = templates[key].name;
    const parent = templates[key].parent;
    templates[key].template = createTemplate(name, parent);
    updated++;
    console.log(`âœ… ${key} - í…œí”Œë¦¿ ìƒì„± ì™„ë£Œ`);
  }
});

// ì €ì¥
fs.writeFileSync(templatesPath, JSON.stringify(templates, null, 2), 'utf8');

console.log('');
console.log('âœ… ì „ì²´ ì™„ë£Œ!');
console.log(`ìƒì„±ëœ í…œí”Œë¦¿ ìˆ˜: ${updated}ê°œ`);
console.log(`ì´ í…œí”Œë¦¿ ìˆ˜: ${Object.keys(templates).length}ê°œ`);
