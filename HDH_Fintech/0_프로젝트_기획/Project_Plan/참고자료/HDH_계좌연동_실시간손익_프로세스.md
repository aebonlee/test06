# HDH Fintech ê³„ì¢Œ ì—°ë™ ë° ì‹¤ì‹œê°„ ì†ìµ ë°ì´í„° ìžë™ ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤

**ë²„ì „**: 1.0
**ìž‘ì„±ì¼**: 2025-12-07
**ëª©ì **: íšŒì›ì˜ MT5 ê±°ëž˜ ê³„ì¢Œ ì—°ë™ì„ í†µí•œ ì‹¤ì‹œê°„ ì†ìµ ë°ì´í„° ìžë™ ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì„¤ëª…

---

## ðŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì§€ì› ê±°ëž˜ì†Œ](#2-ì§€ì›-ê±°ëž˜ì†Œ)
3. [ê³„ì¢Œ ì—°ë™ í”„ë¡œì„¸ìŠ¤](#3-ê³„ì¢Œ-ì—°ë™-í”„ë¡œì„¸ìŠ¤)
4. [ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘](#4-ì‹¤ì‹œê°„-ë°ì´í„°-ìˆ˜ì§‘)
5. [ë°ì´í„° í‘œì‹œ ìœ„ì¹˜](#5-ë°ì´í„°-í‘œì‹œ-ìœ„ì¹˜)
6. [ê³„ì¢Œ ê´€ë¦¬ ê¸°ëŠ¥](#6-ê³„ì¢Œ-ê´€ë¦¬-ê¸°ëŠ¥)
7. [ë³´ì•ˆ ë° ê°œì¸ì •ë³´ ë³´í˜¸](#7-ë³´ì•ˆ-ë°-ê°œì¸ì •ë³´-ë³´í˜¸)
8. [ê¸°ìˆ  êµ¬í˜„ ì‚¬ì–‘](#8-ê¸°ìˆ -êµ¬í˜„-ì‚¬ì–‘)
9. [ì‚¬ìš©ìž ì‹œë‚˜ë¦¬ì˜¤](#9-ì‚¬ìš©ìž-ì‹œë‚˜ë¦¬ì˜¤)
10. [FAQ](#10-faq)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ëª©ì 

HDH Fintech í”Œëž«í¼ì€ íšŒì›ë“¤ì´ ìžì‹ ì˜ MT5 ê±°ëž˜ ê³„ì¢Œë¥¼ ì—°ë™í•˜ì—¬ **ì‹¤ì‹œê°„ ì†ìµ ë°ì´í„°ë¥¼ ìžë™ìœ¼ë¡œ ìˆ˜ì§‘**í•˜ê³ , ì´ë¥¼ í”Œëž«í¼ì—ì„œ **í†µí•© ê´€ë¦¬ ë° ì‹œê°í™”**í•  ìˆ˜ ìžˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.

### 1.2 í•µì‹¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **ìžë™ ë°ì´í„° ìˆ˜ì§‘** | API ì—°ë™ì„ í†µí•œ ì‹¤ì‹œê°„ ê±°ëž˜ ë°ì´í„° ìžë™ ê°€ì ¸ì˜¤ê¸° |
| **ëˆ„ì  ì†ìµ ê³„ì‚°** | ì¼ë³„/ì›”ë³„/ì—°ë³„ ì†ìµ ìžë™ ê³„ì‚° ë° ëˆ„ì  |
| **ë‹¤ì¤‘ ê³„ì¢Œ ê´€ë¦¬** | ì—¬ëŸ¬ ê±°ëž˜ì†Œì˜ ë³µìˆ˜ ê³„ì¢Œ ë™ì‹œ ì—°ë™ ê°€ëŠ¥ |
| **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§** | í¬ì§€ì…˜, ìž”ê³ , ì†ìµ ì‹¤ì‹œê°„ í™•ì¸ |
| **ìžë™ ëž­í‚¹** | ì „ì²´ íšŒì› ì¤‘ ì†ìµ ê¸°ë°˜ ìžë™ ìˆœìœ„ ì‚°ì¶œ |

### 1.3 ìž‘ë™ ì›ë¦¬

```
[íšŒì›ì˜ MT5 ê³„ì¢Œ]
    â†“ (API Key + Secret)
[HDH Fintech ì‹œìŠ¤í…œ]
    â†“ (ì‹¤ì‹œê°„ ë°ì´í„° ìš”ì²­)
[ê±°ëž˜ì†Œ API ì„œë²„]
    â†“ (ê±°ëž˜ ë°ì´í„° ì‘ë‹µ)
[HDH ë°ì´í„°ë² ì´ìŠ¤]
    â†“ (ìžë™ ê³„ì‚° ë° ì €ìž¥)
[ì›¹ ëŒ€ì‹œë³´ë“œì— í‘œì‹œ]
```

---

## 2. ì§€ì› ê±°ëž˜ì†Œ

### 2.1 í˜„ìž¬ ì§€ì› ë¸Œë¡œì»¤

| ê±°ëž˜ì†Œ | ì¢…ë¥˜ | MT5 ì§€ì› | ìš©ë„ |
|--------|------|----------|------|
| **Enso Markets** | ì‹¤ê±°ëž˜ | âœ… | ì‹¤ì œ ìžê¸ˆ ìš´ìš© ê³„ì¢Œ |
| **INFINOX** | ëª¨ì˜ê±°ëž˜ | âœ… | ë°ëª¨ ë° í…ŒìŠ¤íŠ¸ ê³„ì¢Œ |

### 2.2 ê³µí†µ ìš”êµ¬ì‚¬í•­

- MT5 (MetaTrader 5) í”Œëž«í¼ ì‚¬ìš©
- API ì ‘ê·¼ ê¶Œí•œ í™œì„±í™”
- API Key ë° API Secret ë°œê¸‰ í•„ìš”

---

## 3. ê³„ì¢Œ ì—°ë™ í”„ë¡œì„¸ìŠ¤

### 3.1 ì‚¬ìš©ìž ì¸í„°íŽ˜ì´ìŠ¤ ì ‘ê·¼

**ê²½ë¡œ**: ì›¹ì‚¬ì´íŠ¸ â†’ ìš°ì¸¡ ì‚¬ì´ë“œë°” â†’ âš™ï¸ My ì„¤ì • â†’ ðŸ’¼ ê³„ì¢Œ ê´€ë¦¬

```
[HDH Fintech í™ˆíŽ˜ì´ì§€]
    â†“
[ìš°ì¸¡ ì‚¬ì´ë“œë°”]
    â”œâ”€ ðŸ“Š My ëˆ„ì ì†ìµ
    â”œâ”€ âš™ï¸ My ì„¤ì •  â† í´ë¦­
    â”‚   â”œâ”€ ðŸ“… ê±°ëž˜ ì‹œìž‘ì¼ ì„¤ì •
    â”‚   â””â”€ ðŸ’¼ ê³„ì¢Œ ê´€ë¦¬  â† í´ë¦­
    â””â”€ ðŸ“¢ ê³µì§€ì‚¬í•­
```

### 3.2 ê³„ì¢Œ ì¶”ê°€ ë‹¨ê³„ë³„ ê°€ì´ë“œ

#### Step 1: ê³„ì¢Œ ê´€ë¦¬ ëª¨ë‹¬ ì—´ê¸°

**ìœ„ì¹˜**: ìš°ì¸¡ ì‚¬ì´ë“œë°” > My ì„¤ì • > ðŸ’¼ ê³„ì¢Œ ê´€ë¦¬

ëª¨ë‹¬ ì°½ êµ¬ì„±:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ’¼ ê³„ì¢Œ ê´€ë¦¬                    [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ê±°ëž˜ì†Œ ê³„ì¢Œë¥¼ ì—°ê²°í•˜ì—¬ ì‹¤ì‹œê°„ ì†ìµ  â”‚
â”‚  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.               â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€ ìƒˆ ê³„ì¢Œ ì¶”ê°€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â”‚  [ìž…ë ¥ í¼]                  â”‚    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€ ì—°ê²°ëœ ê³„ì¢Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â”‚  [ê³„ì¢Œ ëª©ë¡]                â”‚    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 2: ìƒˆ ê³„ì¢Œ ì¶”ê°€ í¼ ìž‘ì„±

**í•„ìˆ˜ ìž…ë ¥ í•­ëª©**:

1. **ê±°ëž˜ì†Œ ì„ íƒ** (ë“œë¡­ë‹¤ìš´)
   - Enso Markets (ì—”ì˜ë§ˆì¼“)
   - INFINOX (ì¸í”¼ë…¹ìŠ¤)

2. **ê³„ì¢Œ ë³„ì¹­** (í…ìŠ¤íŠ¸ ìž…ë ¥)
   - ì˜ˆ: "ë©”ì¸ ê³„ì¢Œ", "ì±Œë¦°ì§€ ê³„ì¢Œ", "íŽ€ë”© A ê³„ì¢Œ"
   - ì‚¬ìš©ìžê°€ êµ¬ë¶„í•˜ê¸° ì‰¬ìš´ ì´ë¦„

3. **API Key** (í…ìŠ¤íŠ¸ ìž…ë ¥)
   - ê±°ëž˜ì†Œì—ì„œ ë°œê¸‰ë°›ì€ API í‚¤
   - ì˜ˆ: `enso_1a2b3c4d5e6f7g8h9i0j`

4. **API Secret** (ë¹„ë°€ë²ˆí˜¸ ìž…ë ¥)
   - ê±°ëž˜ì†Œì—ì„œ ë°œê¸‰ë°›ì€ ë¹„ë°€ í‚¤
   - ë³´ì•ˆì„ ìœ„í•´ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë¨ (â—â—â—â—â—â—â—â—)

#### Step 3: API í‚¤ ë°œê¸‰ ë°©ë²•

**Enso Markets ì˜ˆì‹œ**:

```
1. Enso Markets ì›¹ì‚¬ì´íŠ¸ ë¡œê·¸ì¸
   â†“
2. ê³„ì • ì„¤ì • > API ê´€ë¦¬ ë©”ë‰´ ì ‘ì†
   â†“
3. "ìƒˆ API í‚¤ ìƒì„±" í´ë¦­
   â†“
4. ê¶Œí•œ ì„¤ì •:
   - âœ… ì½ê¸° (ê±°ëž˜ ë‚´ì—­ ì¡°íšŒ)
   - âœ… ê³„ì¢Œ ì •ë³´ ì¡°íšŒ
   - âŒ ê±°ëž˜ ì‹¤í–‰ (ë³´ì•ˆìƒ ë¹„í™œì„±í™” ê¶Œìž¥)
   â†“
5. API Key ë° Secret ë°œê¸‰
   âš ï¸ Secretì€ í•œ ë²ˆë§Œ í‘œì‹œë˜ë¯€ë¡œ ì•ˆì „í•˜ê²Œ ë³´ê´€!
   â†“
6. HDH Fintechì— ìž…ë ¥
```

**INFINOX ì˜ˆì‹œ**:

```
1. INFINOX í´ë¼ì´ì–¸íŠ¸ í¬í„¸ ë¡œê·¸ì¸
   â†“
2. ì„¤ì • > API ì•¡ì„¸ìŠ¤
   â†“
3. "API ìžê²© ì¦ëª… ìƒì„±"
   â†“
4. ì½ê¸° ì „ìš© ê¶Œí•œìœ¼ë¡œ ìƒì„±
   â†“
5. Key/Secret ë³µì‚¬í•˜ì—¬ HDH Fintechì— ìž…ë ¥
```

#### Step 4: ê³„ì¢Œ ì¶”ê°€ ë²„íŠ¼ í´ë¦­

ìž…ë ¥ ì™„ë£Œ í›„ **[ê³„ì¢Œ ì¶”ê°€]** ë²„íŠ¼ í´ë¦­

**ì‹œìŠ¤í…œ ì²˜ë¦¬ ê³¼ì •**:

```javascript
// 1. ìž…ë ¥ê°’ ê²€ì¦
- ëª¨ë“  í•„ë“œ ìž…ë ¥ í™•ì¸
- API Key í˜•ì‹ ê²€ì¦
- ì¤‘ë³µ ê³„ì¢Œ í™•ì¸

// 2. API ì—°ê²° í…ŒìŠ¤íŠ¸
- ê±°ëž˜ì†Œ API ì„œë²„ì— í…ŒìŠ¤íŠ¸ ìš”ì²­ ì „ì†¡
- ì¸ì¦ ì„±ê³µ ì—¬ë¶€ í™•ì¸
- ê³„ì¢Œ ì •ë³´ ê°€ì ¸ì˜¤ê¸° í…ŒìŠ¤íŠ¸

// 3. ì—°ê²° ì„±ê³µ ì‹œ
- ë°ì´í„°ë² ì´ìŠ¤ì— ê³„ì¢Œ ì •ë³´ ì €ìž¥ (Secretì€ ì•”í˜¸í™”)
- ì—°ê²° ìƒíƒœ "ì—°ê²°ë¨"ìœ¼ë¡œ ì„¤ì •
- "ì‹¤ì‹œê°„ ì†ìµ ì—°ë™ ì¤‘" ìƒíƒœ í™œì„±í™”

// 4. ì‚¬ìš©ìž ì•Œë¦¼
alert("ê³„ì¢Œê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!");
```

#### Step 5: ì—°ê²° í™•ì¸

ì¶”ê°€ëœ ê³„ì¢ŒëŠ” **"ì—°ê²°ëœ ê³„ì¢Œ"** ì„¹ì…˜ì— í‘œì‹œë¨:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë©”ì¸ ê³„ì¢Œ              [ì—°ê²°ë¨]         â”‚
â”‚  Enso Markets (ì—”ì˜ë§ˆì¼“)                â”‚
â”‚  API Key: enso_**********************   â”‚
â”‚  ì‹¤ì‹œê°„ ì†ìµ ì—°ë™ ì¤‘                     â”‚
â”‚                                         â”‚
â”‚  [ì—°ê²° í•´ì œ]  [ì‚­ì œ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘

### 4.1 ìˆ˜ì§‘ ë°ì´í„° í•­ëª©

ê³„ì¢Œ ì—°ë™ í›„ ìžë™ìœ¼ë¡œ ìˆ˜ì§‘ë˜ëŠ” ë°ì´í„°:

| ë°ì´í„° í•­ëª© | ìˆ˜ì§‘ ì£¼ê¸° | ì„¤ëª… |
|------------|----------|------|
| **í¬ì§€ì…˜ ì •ë³´** | ì‹¤ì‹œê°„ (5ì´ˆ) | í˜„ìž¬ ì˜¤í”ˆëœ í¬ì§€ì…˜ ëª©ë¡ |
| **ê±°ëž˜ ë‚´ì—­** | ì‹¤ì‹œê°„ (ê±°ëž˜ ë°œìƒ ì‹œ) | ì‹ ê·œ ê±°ëž˜, ì²­ì‚° ë‚´ì—­ |
| **ìž”ê³ ** | ì‹¤ì‹œê°„ (5ì´ˆ) | í˜„ìž¬ ê³„ì¢Œ ìž”ì•¡ |
| **ì¼ë³„ ì†ìµ** | ì¼ 1íšŒ (ìžì •) | í•˜ë£¨ ì¢…í•© ì†ìµ |
| **ë¯¸ì‹¤í˜„ ì†ìµ** | ì‹¤ì‹œê°„ (5ì´ˆ) | í˜„ìž¬ í¬ì§€ì…˜ì˜ í‰ê°€ ì†ìµ |
| **ì‹¤í˜„ ì†ìµ** | ê±°ëž˜ ì¢…ë£Œ ì‹œ | ì²­ì‚°ëœ í¬ì§€ì…˜ì˜ í™•ì • ì†ìµ |

### 4.2 ë°ì´í„° ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤

#### ì‹¤ì‹œê°„ ìˆ˜ì§‘ (5ì´ˆ ì£¼ê¸°)

```python
# ì˜ì‚¬ ì½”ë“œ (Pseudocode)

while True:
    for account in connected_accounts:
        # 1. API í˜¸ì¶œ
        response = broker_api.get_account_data(
            api_key=account.api_key,
            api_secret=decrypt(account.api_secret)
        )

        # 2. ë°ì´í„° íŒŒì‹±
        positions = response['positions']
        balance = response['balance']
        unrealized_pl = response['unrealized_profit_loss']

        # 3. ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸
        update_account_status(
            account_id=account.id,
            balance=balance,
            positions=positions,
            unrealized_pl=unrealized_pl,
            timestamp=now()
        )

        # 4. ì›¹ì†Œì¼“ìœ¼ë¡œ ì‹¤ì‹œê°„ ì „ì†¡
        websocket.send_to_user(
            user_id=account.user_id,
            data={
                'balance': balance,
                'unrealized_pl': unrealized_pl
            }
        )

    sleep(5)  # 5ì´ˆ ëŒ€ê¸°
```

#### ê±°ëž˜ ë°œìƒ ì‹œ ì´ë²¤íŠ¸ ê¸°ë°˜ ìˆ˜ì§‘

```python
# ì›¹í›… ì—”ë“œí¬ì¸íŠ¸
@app.route('/webhook/trade', method='POST')
def handle_trade_event():
    # 1. ê±°ëž˜ì†Œë¡œë¶€í„° ê±°ëž˜ ì™„ë£Œ ì•Œë¦¼ ìˆ˜ì‹ 
    trade_data = request.json

    # 2. ì†ìµ ê³„ì‚°
    if trade_data['type'] == 'CLOSE':
        realized_pl = calculate_profit_loss(
            entry_price=trade_data['entry_price'],
            exit_price=trade_data['exit_price'],
            lot_size=trade_data['lot_size']
        )

        # 3. ëˆ„ì  ì†ìµ ì—…ë°ì´íŠ¸
        update_accumulated_profit(
            user_id=trade_data['user_id'],
            daily_pl=realized_pl,
            date=today()
        )

        # 4. ì¼ë³„ ê±°ëž˜ ì¼ì§€ì— ê¸°ë¡
        add_trade_diary_entry(
            user_id=trade_data['user_id'],
            date=today(),
            profit_loss=realized_pl,
            trade_details=trade_data
        )
```

#### ì¼ì¼ ì •ì‚° (ìžì • ì‹¤í–‰)

```python
# ìŠ¤ì¼€ì¤„ëŸ¬: ë§¤ì¼ ìžì •ì— ì‹¤í–‰
@scheduler.scheduled_job('cron', hour=0, minute=0)
def daily_settlement():
    for user in all_users:
        # 1. ì˜¤ëŠ˜ í•˜ë£¨ ì´ ì†ìµ ê³„ì‚°
        daily_total = sum(user.today_trades['realized_pl'])

        # 2. ì›” ëˆ„ì  ì†ìµ ì—…ë°ì´íŠ¸
        update_monthly_profit(user.id, daily_total)

        # 3. ì—° ëˆ„ì  ì†ìµ ì—…ë°ì´íŠ¸
        update_yearly_profit(user.id, daily_total)

        # 4. ëž­í‚¹ ìž¬ê³„ì‚°
        recalculate_ranking()

        # 5. íšŒì› ë“±ê¸‰ ì—…ë°ì´íŠ¸
        update_user_level(user.id)
```

### 4.3 ë°ì´í„° íë¦„ë„

```
[MT5 ê±°ëž˜ ë°œìƒ]
    â†“
[ê±°ëž˜ì†Œ ì„œë²„ì— ê¸°ë¡]
    â†“
[HDH ì‹œìŠ¤í…œì´ APIë¡œ ë°ì´í„° ìš”ì²­] (5ì´ˆ ì£¼ê¸° ë˜ëŠ” ì›¹í›…)
    â†“
[ê±°ëž˜ ë°ì´í„° ìˆ˜ì‹ ]
    â”œâ”€ í¬ì§€ì…˜ ì •ë³´
    â”œâ”€ ê±°ëž˜ ë‚´ì—­
    â”œâ”€ ìž”ê³  ë³€í™”
    â””â”€ ì†ìµ ì •ë³´
    â†“
[ë°ì´í„° ê°€ê³µ ë° ê³„ì‚°]
    â”œâ”€ ì‹¤í˜„ ì†ìµ ê³„ì‚°
    â”œâ”€ ë¯¸ì‹¤í˜„ ì†ìµ ê³„ì‚°
    â”œâ”€ ëˆ„ì  ì†ìµ ì—…ë°ì´íŠ¸
    â””â”€ ìˆ˜ìµë¥  ê³„ì‚°
    â†“
[ë°ì´í„°ë² ì´ìŠ¤ ì €ìž¥]
    â”œâ”€ ê±°ëž˜ ë‚´ì—­ í…Œì´ë¸”
    â”œâ”€ ì¼ë³„ ì†ìµ í…Œì´ë¸”
    â”œâ”€ ëˆ„ì  ì†ìµ í…Œì´ë¸”
    â””â”€ ê³„ì¢Œ ìƒíƒœ í…Œì´ë¸”
    â†“
[ì›¹ ì¸í„°íŽ˜ì´ìŠ¤ ì—…ë°ì´íŠ¸]
    â”œâ”€ My ëˆ„ì ì†ìµ ìœ„ì ¯
    â”œâ”€ ì¼ë³„ ê±°ëž˜ ì¼ì§€
    â””â”€ ëž­í‚¹ ì‹œìŠ¤í…œ
```

### 4.4 ì¼ìžë³„ ê³„ì¢Œë³„ ìƒì„¸ ì†ìµ ë°ì´í„° ìˆ˜ì§‘ ë° ì €ìž¥ í”„ë¡œì„¸ìŠ¤

#### 4.4.1 ë°ì´í„° ìˆ˜ì§‘ ì£¼ê¸° ë° ë°©ì‹

**3ë‹¨ê³„ ìˆ˜ì§‘ ì „ëžµ**:

| ìˆ˜ì§‘ ìœ í˜• | ì£¼ê¸° | ëª©ì  | ë°ì´í„° í•­ëª© |
|----------|------|------|------------|
| **ì‹¤ì‹œê°„ ìˆ˜ì§‘** | 5ì´ˆ | í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ | ë¯¸ì‹¤í˜„ ì†ìµ, í˜„ìž¬ê°€, ìž”ê³  |
| **ê±°ëž˜ ë°œìƒ ìˆ˜ì§‘** | ì¦‰ì‹œ (ì›¹í›…) | ê±°ëž˜ ë‚´ì—­ ê¸°ë¡ | ì²´ê²°ê°€, ì‹¤í˜„ ì†ìµ, ê±°ëž˜ ì‹œê°„ |
| **ì¼ë³„ ì •ì‚° ìˆ˜ì§‘** | ë§¤ì¼ ìžì • | ì¼ë³„ í†µê³„ ì§‘ê³„ | ì¼ ì´ ì†ìµ, ê±°ëž˜ íšŸìˆ˜, ìŠ¹ë¥  |

#### 4.4.2 ìƒì„¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

##### AccountDailyProfitLoss (ê³„ì¢Œë³„ ì¼ë³„ ì†ìµ) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    user_id: ObjectId,          // íšŒì› ID
    account_id: ObjectId,       // ê³„ì¢Œ ID
    date: Date,                 // ì¼ìž (YYYY-MM-DD)

    // ê±°ëž˜ í†µê³„
    total_trades: Number,       // ì´ ê±°ëž˜ íšŸìˆ˜
    win_trades: Number,         // ì´ìµ ê±°ëž˜ ìˆ˜
    loss_trades: Number,        // ì†ì‹¤ ê±°ëž˜ ìˆ˜
    win_rate: Number,           // ìŠ¹ë¥  (%)

    // ì†ìµ ìƒì„¸
    gross_profit: Number,       // ì´ ì´ìµ (ì´ìµ ê±°ëž˜ í•©ê³„)
    gross_loss: Number,         // ì´ ì†ì‹¤ (ì†ì‹¤ ê±°ëž˜ í•©ê³„)
    net_profit_loss: Number,    // ìˆœì†ìµ (ì´ì´ìµ - ì´ì†ì‹¤)

    // ê³„ì¢Œ ìƒíƒœ
    opening_balance: Number,    // ì‹œìž‘ ìž”ê³ 
    closing_balance: Number,    // ì¢…ë£Œ ìž”ê³ 
    daily_return_pct: Number,   // ì¼ ìˆ˜ìµë¥  (%)

    // ëˆ„ì  ë°ì´í„°
    accumulated_pl: Number,     // ëˆ„ì  ì†ìµ (ê±°ëž˜ ì‹œìž‘ì¼ë¶€í„°)

    // ê±°ëž˜ ìƒì„¸ (ë°°ì—´)
    trades: [{
        trade_id: String,       // ê±°ëž˜ì†Œ ê±°ëž˜ ID
        symbol: String,         // ìƒí’ˆ (XAUUSD)
        type: String,           // BUY/SELL
        lot_size: Number,       // ëž í¬ê¸°
        entry_price: Number,    // ì§„ìž…ê°€
        exit_price: Number,     // ì²­ì‚°ê°€
        entry_time: Date,       // ì§„ìž… ì‹œê°„
        exit_time: Date,        // ì²­ì‚° ì‹œê°„
        profit_loss: Number,    // ì†ìµ
        pips: Number,           // í¬ì¸íŠ¸ ìˆ˜
        commission: Number,     // ìˆ˜ìˆ˜ë£Œ
        swap: Number            // ìŠ¤ì™‘
    }],

    // ë©”íƒ€ ì •ë³´
    created_at: Date,
    updated_at: Date,
    sync_status: String         // "synced" | "syncing" | "failed"
}
```

##### TradeHistory (ê±°ëž˜ ë‚´ì—­ ìƒì„¸) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    user_id: ObjectId,
    account_id: ObjectId,
    trade_id: String,           // ê±°ëž˜ì†Œ ì›ë³¸ ID

    // ê¸°ë³¸ ì •ë³´
    symbol: String,             // XAUUSD
    type: String,               // BUY/SELL/BALANCE
    lot_size: Number,           // 6.8

    // ê°€ê²© ì •ë³´
    entry_price: Number,        // 2650.00
    exit_price: Number,         // 2671.50
    current_price: Number,      // ì‹¤ì‹œê°„ í˜„ìž¬ê°€ (ì˜¤í”ˆ í¬ì§€ì…˜)

    // ì†ìµ ì •ë³´
    realized_pl: Number,        // ì‹¤í˜„ ì†ìµ (ì²­ì‚° ì‹œ)
    unrealized_pl: Number,      // ë¯¸ì‹¤í˜„ ì†ìµ (ì˜¤í”ˆ ì‹œ)
    pips: Number,               // 21.5

    // ë¹„ìš©
    commission: Number,         // ìˆ˜ìˆ˜ë£Œ
    swap: Number,               // ìŠ¤ì™‘ (í•˜ë£»ë°¤ ë³´ìœ  ìˆ˜ìˆ˜ë£Œ)

    // TP/SL
    take_profit: Number,        // ìµì ˆê°€
    stop_loss: Number,          // ì†ì ˆê°€

    // ì‹œê°„ ì •ë³´
    entry_time: Date,           // 2024-12-07 10:30:00
    exit_time: Date,            // 2024-12-07 11:00:00
    duration_minutes: Number,   // 30ë¶„

    // ìƒíƒœ
    status: String,             // "open" | "closed" | "cancelled"
    close_reason: String,       // "tp" | "sl" | "manual" | "margin_call"

    // ë©”íƒ€ë°ì´í„°
    broker: String,             // "ensomarkets" | "infinox"
    account_number: String,     // MT5 ê³„ì¢Œë²ˆí˜¸
    magic_number: Number,       // EA ì‹ë³„ ë²ˆí˜¸
    comment: String,            // ê±°ëž˜ ì½”ë©˜íŠ¸

    created_at: Date,
    updated_at: Date
}
```

##### AccountSnapshot (ê³„ì¢Œ ìŠ¤ëƒ…ìƒ· - ì‹œê°„ë³„) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    user_id: ObjectId,
    account_id: ObjectId,
    timestamp: Date,            // ìŠ¤ëƒ…ìƒ· ì‹œê°„

    // ìž”ê³  ì •ë³´
    balance: Number,            // ê³„ì¢Œ ìž”ì•¡
    equity: Number,             // ìžì‚° (ìž”ì•¡ + ë¯¸ì‹¤í˜„ ì†ìµ)
    margin: Number,             // ì‚¬ìš© ë§ˆì§„
    free_margin: Number,        // ê°€ìš© ë§ˆì§„
    margin_level: Number,       // ë§ˆì§„ ë ˆë²¨ (%)

    // ì†ìµ ì •ë³´
    unrealized_pl: Number,      // ë¯¸ì‹¤í˜„ ì†ìµ
    daily_pl: Number,           // ë‹¹ì¼ ì†ìµ

    // í¬ì§€ì…˜ ì •ë³´
    open_positions: Number,     // ì˜¤í”ˆ í¬ì§€ì…˜ ìˆ˜
    total_volume: Number,       // ì´ ëž ìˆ˜

    created_at: Date
}
```

#### 4.4.3 ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ êµ¬í˜„

```javascript
const cron = require('node-cron');
const moment = require('moment-timezone');

// ========================================
// 1. ì‹¤ì‹œê°„ í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ (5ì´ˆ ì£¼ê¸°)
// ========================================
cron.schedule('*/5 * * * * *', async () => {
    console.log('[ì‹¤ì‹œê°„ ìˆ˜ì§‘] ì‹œìž‘:', new Date());

    const connectedAccounts = await db.accounts.find({
        status: 'connected'
    });

    for (const account of connectedAccounts) {
        try {
            // API í˜¸ì¶œ
            const apiData = await fetchAccountData(account);

            // ê³„ì¢Œ ìŠ¤ëƒ…ìƒ· ì €ìž¥
            await db.accountSnapshots.insert({
                user_id: account.user_id,
                account_id: account._id,
                timestamp: new Date(),
                balance: apiData.balance,
                equity: apiData.equity,
                margin: apiData.margin,
                free_margin: apiData.freeMargin,
                margin_level: apiData.marginLevel,
                unrealized_pl: apiData.unrealizedPL,
                open_positions: apiData.positions.length,
                total_volume: apiData.positions.reduce((sum, p) => sum + p.volume, 0),
                created_at: new Date()
            });

            // ë¯¸ì‹¤í˜„ ì†ìµ ì—…ë°ì´íŠ¸
            await updateUnrealizedPL(account._id, apiData.unrealizedPL);

            // WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ í‘¸ì‹œ
            io.to(`user:${account.user_id}`).emit('account_update', {
                account_id: account._id,
                balance: apiData.balance,
                unrealized_pl: apiData.unrealizedPL
            });

        } catch (error) {
            console.error(`ê³„ì¢Œ ${account._id} ë™ê¸°í™” ì‹¤íŒ¨:`, error);
            await logSyncError(account._id, error);
        }
    }
});

// ========================================
// 2. ê±°ëž˜ ë‚´ì—­ ë™ê¸°í™” (1ë¶„ ì£¼ê¸°)
// ========================================
cron.schedule('* * * * *', async () => {
    console.log('[ê±°ëž˜ ë‚´ì—­ ìˆ˜ì§‘] ì‹œìž‘:', new Date());

    const connectedAccounts = await db.accounts.find({
        status: 'connected'
    });

    for (const account of connectedAccounts) {
        try {
            // ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ ì´í›„ ê±°ëž˜ ì¡°íšŒ
            const lastSync = account.last_sync_at || account.created_at;

            const trades = await fetchTrades(account, {
                start_date: lastSync,
                end_date: new Date()
            });

            console.log(`ê³„ì¢Œ ${account._id}: ${trades.length}ê±´ì˜ ìƒˆ ê±°ëž˜ ë°œê²¬`);

            for (const trade of trades) {
                // ì¤‘ë³µ ì²´í¬
                const existing = await db.tradeHistory.findOne({
                    account_id: account._id,
                    trade_id: trade.trade_id
                });

                if (existing) {
                    // ê¸°ì¡´ ê±°ëž˜ ì—…ë°ì´íŠ¸ (ìƒíƒœ ë³€ê²½ ë“±)
                    await db.tradeHistory.update(
                        { _id: existing._id },
                        {
                            $set: {
                                status: trade.status,
                                exit_price: trade.exit_price,
                                exit_time: trade.exit_time,
                                realized_pl: trade.realized_pl,
                                updated_at: new Date()
                            }
                        }
                    );
                } else {
                    // ì‹ ê·œ ê±°ëž˜ ì‚½ìž…
                    await db.tradeHistory.insert({
                        user_id: account.user_id,
                        account_id: account._id,
                        trade_id: trade.trade_id,
                        symbol: trade.symbol,
                        type: trade.type,
                        lot_size: trade.lot_size,
                        entry_price: trade.entry_price,
                        exit_price: trade.exit_price,
                        realized_pl: trade.realized_pl,
                        unrealized_pl: trade.unrealized_pl,
                        pips: trade.pips,
                        commission: trade.commission,
                        swap: trade.swap,
                        take_profit: trade.take_profit,
                        stop_loss: trade.stop_loss,
                        entry_time: trade.entry_time,
                        exit_time: trade.exit_time,
                        duration_minutes: trade.duration_minutes,
                        status: trade.status,
                        close_reason: trade.close_reason,
                        broker: account.exchange,
                        created_at: new Date(),
                        updated_at: new Date()
                    });
                }
            }

            // ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ ì—…ë°ì´íŠ¸
            await db.accounts.update(
                { _id: account._id },
                { $set: { last_sync_at: new Date() } }
            );

        } catch (error) {
            console.error(`ê±°ëž˜ ë‚´ì—­ ë™ê¸°í™” ì‹¤íŒ¨:`, error);
        }
    }
});

// ========================================
// 3. ì¼ë³„ ì†ìµ ì •ì‚° (ë§¤ì¼ ìžì • ì‹¤í–‰)
// ========================================
cron.schedule('0 0 * * *', async () => {
    console.log('[ì¼ë³„ ì •ì‚°] ì‹œìž‘:', moment().tz('Asia/Seoul').format('YYYY-MM-DD'));

    const yesterday = moment().tz('Asia/Seoul').subtract(1, 'day').startOf('day');
    const yesterdayEnd = moment(yesterday).endOf('day');

    const allAccounts = await db.accounts.find({});

    for (const account of allAccounts) {
        try {
            // ì–´ì œ í•˜ë£¨ ê±°ëž˜ ì¡°íšŒ
            const dailyTrades = await db.tradeHistory.find({
                account_id: account._id,
                exit_time: {
                    $gte: yesterday.toDate(),
                    $lte: yesterdayEnd.toDate()
                },
                status: 'closed'
            });

            // ê±°ëž˜ í†µê³„ ê³„ì‚°
            const totalTrades = dailyTrades.length;
            const winTrades = dailyTrades.filter(t => t.realized_pl > 0).length;
            const lossTrades = dailyTrades.filter(t => t.realized_pl < 0).length;
            const winRate = totalTrades > 0 ? (winTrades / totalTrades * 100) : 0;

            // ì†ìµ ê³„ì‚°
            const grossProfit = dailyTrades
                .filter(t => t.realized_pl > 0)
                .reduce((sum, t) => sum + t.realized_pl, 0);

            const grossLoss = Math.abs(dailyTrades
                .filter(t => t.realized_pl < 0)
                .reduce((sum, t) => sum + t.realized_pl, 0));

            const netProfitLoss = grossProfit - grossLoss;

            // ì‹œìž‘/ì¢…ë£Œ ìž”ê³ 
            const openingSnapshot = await db.accountSnapshots.findOne({
                account_id: account._id,
                timestamp: { $gte: yesterday.toDate(), $lte: yesterdayEnd.toDate() }
            }, { sort: { timestamp: 1 } });

            const closingSnapshot = await db.accountSnapshots.findOne({
                account_id: account._id,
                timestamp: { $gte: yesterday.toDate(), $lte: yesterdayEnd.toDate() }
            }, { sort: { timestamp: -1 } });

            const openingBalance = openingSnapshot?.balance || 0;
            const closingBalance = closingSnapshot?.balance || 0;
            const dailyReturnPct = openingBalance > 0
                ? ((closingBalance - openingBalance) / openingBalance * 100)
                : 0;

            // ëˆ„ì  ì†ìµ ê³„ì‚°
            const tradingStartDate = await getUserTradingStartDate(account.user_id);
            const accumulatedPL = await calculateAccumulatedPL(
                account._id,
                tradingStartDate,
                yesterday.toDate()
            );

            // ì¼ë³„ ì†ìµ ë°ì´í„° ì €ìž¥
            await db.accountDailyProfitLoss.update(
                {
                    account_id: account._id,
                    date: yesterday.format('YYYY-MM-DD')
                },
                {
                    $set: {
                        user_id: account.user_id,
                        account_id: account._id,
                        date: yesterday.toDate(),
                        total_trades: totalTrades,
                        win_trades: winTrades,
                        loss_trades: lossTrades,
                        win_rate: winRate,
                        gross_profit: grossProfit,
                        gross_loss: grossLoss,
                        net_profit_loss: netProfitLoss,
                        opening_balance: openingBalance,
                        closing_balance: closingBalance,
                        daily_return_pct: dailyReturnPct,
                        accumulated_pl: accumulatedPL,
                        trades: dailyTrades.map(t => ({
                            trade_id: t.trade_id,
                            symbol: t.symbol,
                            type: t.type,
                            lot_size: t.lot_size,
                            entry_price: t.entry_price,
                            exit_price: t.exit_price,
                            entry_time: t.entry_time,
                            exit_time: t.exit_time,
                            profit_loss: t.realized_pl,
                            pips: t.pips,
                            commission: t.commission,
                            swap: t.swap
                        })),
                        updated_at: new Date(),
                        sync_status: 'synced'
                    }
                },
                { upsert: true }
            );

            console.log(`ê³„ì¢Œ ${account._id} ì¼ë³„ ì •ì‚° ì™„ë£Œ: ${netProfitLoss}`);

        } catch (error) {
            console.error(`ê³„ì¢Œ ${account._id} ì¼ë³„ ì •ì‚° ì‹¤íŒ¨:`, error);

            await db.accountDailyProfitLoss.update(
                {
                    account_id: account._id,
                    date: yesterday.format('YYYY-MM-DD')
                },
                {
                    $set: {
                        sync_status: 'failed',
                        error_message: error.message
                    }
                },
                { upsert: true }
            );
        }
    }

    // ì‚¬ìš©ìžë³„ í†µí•© ì¼ë³„ ì†ìµ ê³„ì‚°
    await aggregateUserDailyProfitLoss(yesterday.toDate());

    // ì›”ë³„ í†µê³„ ì—…ë°ì´íŠ¸
    await updateMonthlyStats(yesterday.toDate());

    // ëž­í‚¹ ìž¬ê³„ì‚°
    await recalculateRanking();

    console.log('[ì¼ë³„ ì •ì‚°] ì™„ë£Œ');
});

// ========================================
// 4. ì›”ë³„ í†µê³„ ì§‘ê³„ (ë§¤ì›” 1ì¼ 00:10 ì‹¤í–‰)
// ========================================
cron.schedule('10 0 1 * *', async () => {
    console.log('[ì›”ë³„ í†µê³„ ì§‘ê³„] ì‹œìž‘');

    const lastMonth = moment().tz('Asia/Seoul').subtract(1, 'month');
    const year = lastMonth.year();
    const month = lastMonth.month() + 1;

    const allUsers = await db.users.find({});

    for (const user of allUsers) {
        try {
            // í•´ë‹¹ ì›”ì˜ ëª¨ë“  ì¼ë³„ ë°ì´í„° ì¡°íšŒ
            const monthlyData = await db.accountDailyProfitLoss.aggregate([
                {
                    $match: {
                        user_id: user._id,
                        date: {
                            $gte: lastMonth.startOf('month').toDate(),
                            $lte: lastMonth.endOf('month').toDate()
                        }
                    }
                },
                {
                    $group: {
                        _id: null,
                        total_pl: { $sum: '$net_profit_loss' },
                        total_trades: { $sum: '$total_trades' },
                        win_trades: { $sum: '$win_trades' },
                        loss_trades: { $sum: '$loss_trades' }
                    }
                }
            ]);

            const monthlyPL = monthlyData[0]?.total_pl || 0;
            const monthlyTarget = user.monthly_target || 10000000; // ê¸°ë³¸ 1ì²œë§Œì›
            const achievementRate = (monthlyPL / monthlyTarget * 100);

            await db.monthlyStats.update(
                {
                    user_id: user._id,
                    year: year,
                    month: month
                },
                {
                    $set: {
                        user_id: user._id,
                        year: year,
                        month: month,
                        monthly_pl: monthlyPL,
                        monthly_target: monthlyTarget,
                        achievement_rate: achievementRate,
                        total_trades: monthlyData[0]?.total_trades || 0,
                        win_trades: monthlyData[0]?.win_trades || 0,
                        loss_trades: monthlyData[0]?.loss_trades || 0,
                        updated_at: new Date()
                    }
                },
                { upsert: true }
            );

        } catch (error) {
            console.error(`ì‚¬ìš©ìž ${user._id} ì›”ë³„ í†µê³„ ì‹¤íŒ¨:`, error);
        }
    }

    console.log('[ì›”ë³„ í†µê³„ ì§‘ê³„] ì™„ë£Œ');
});
```

#### 4.4.4 ë°ì´í„° ì¡°íšŒ API êµ¬í˜„

```javascript
// ì‚¬ìš©ìžë³„ ì¼ìžë³„ ì†ìµ ì¡°íšŒ
app.get('/api/daily-profit-loss', async (req, res) => {
    const userId = req.user._id;
    const { start_date, end_date, account_id } = req.query;

    const query = { user_id: userId };

    if (start_date && end_date) {
        query.date = {
            $gte: new Date(start_date),
            $lte: new Date(end_date)
        };
    }

    if (account_id) {
        query.account_id = account_id;
    }

    const dailyData = await db.accountDailyProfitLoss.find(query)
        .sort({ date: -1 });

    res.json({
        success: true,
        data: dailyData,
        total: dailyData.length
    });
});

// ê³„ì¢Œë³„ ìƒì„¸ ê±°ëž˜ ë‚´ì—­ ì¡°íšŒ
app.get('/api/trades', async (req, res) => {
    const userId = req.user._id;
    const { account_id, date, status } = req.query;

    const query = { user_id: userId };

    if (account_id) {
        query.account_id = account_id;
    }

    if (date) {
        const startOfDay = moment(date).startOf('day').toDate();
        const endOfDay = moment(date).endOf('day').toDate();
        query.exit_time = {
            $gte: startOfDay,
            $lte: endOfDay
        };
    }

    if (status) {
        query.status = status;
    }

    const trades = await db.tradeHistory.find(query)
        .sort({ exit_time: -1 });

    res.json({
        success: true,
        data: trades,
        total: trades.length
    });
});

// ëˆ„ì  ì†ìµ ì¡°íšŒ
app.get('/api/accumulated-profit-loss', async (req, res) => {
    const userId = req.user._id;
    const { account_id } = req.query;

    const tradingStartDate = await getUserTradingStartDate(userId);

    let query = { user_id: userId };
    if (account_id) {
        query.account_id = account_id;
    }

    const result = await db.accountDailyProfitLoss.aggregate([
        {
            $match: {
                ...query,
                date: { $gte: tradingStartDate }
            }
        },
        {
            $group: {
                _id: account_id ? '$account_id' : null,
                total_pl: { $sum: '$net_profit_loss' },
                total_trades: { $sum: '$total_trades' },
                win_trades: { $sum: '$win_trades' },
                loss_trades: { $sum: '$loss_trades' }
            }
        }
    ]);

    res.json({
        success: true,
        data: {
            accumulated_pl: result[0]?.total_pl || 0,
            total_trades: result[0]?.total_trades || 0,
            win_rate: result[0]?.total_trades > 0
                ? (result[0].win_trades / result[0].total_trades * 100)
                : 0
        }
    });
});
```

#### 4.4.5 ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦

```javascript
// ë§¤ì¼ ìƒˆë²½ 2ì‹œì— ë°ì´í„° ë¬´ê²°ì„± ê²€ì‚¬
cron.schedule('0 2 * * *', async () => {
    console.log('[ë°ì´í„° ê²€ì¦] ì‹œìž‘');

    const yesterday = moment().subtract(1, 'day').format('YYYY-MM-DD');

    // 1. ëˆ„ë½ëœ ì¼ë³„ ë°ì´í„° í™•ì¸
    const allAccounts = await db.accounts.find({ status: 'connected' });

    for (const account of allAccounts) {
        const dailyRecord = await db.accountDailyProfitLoss.findOne({
            account_id: account._id,
            date: yesterday
        });

        if (!dailyRecord) {
            console.warn(`âš ï¸ ëˆ„ë½ëœ ì¼ë³„ ë°ì´í„°: ê³„ì¢Œ ${account._id}, ë‚ ì§œ ${yesterday}`);
            // ìž¬ì²˜ë¦¬ íŠ¸ë¦¬ê±°
            await retryDailySettlement(account._id, yesterday);
        }
    }

    // 2. ì†ìµ í•©ê³„ ê²€ì¦
    for (const account of allAccounts) {
        const dailyRecord = await db.accountDailyProfitLoss.findOne({
            account_id: account._id,
            date: yesterday
        });

        if (dailyRecord) {
            const tradesSum = dailyRecord.trades.reduce((sum, t) => sum + t.profit_loss, 0);

            if (Math.abs(tradesSum - dailyRecord.net_profit_loss) > 0.01) {
                console.error(`âŒ ì†ìµ ë¶ˆì¼ì¹˜: ê³„ì¢Œ ${account._id}, ë‚ ì§œ ${yesterday}`);
                console.error(`  DB ê¸°ë¡: ${dailyRecord.net_profit_loss}`);
                console.error(`  ê±°ëž˜ í•©ê³„: ${tradesSum}`);

                // ìžë™ ìˆ˜ì •
                await db.accountDailyProfitLoss.update(
                    { _id: dailyRecord._id },
                    { $set: { net_profit_loss: tradesSum } }
                );
            }
        }
    }

    console.log('[ë°ì´í„° ê²€ì¦] ì™„ë£Œ');
});
```

---

## 5. ë°ì´í„° í‘œì‹œ ìœ„ì¹˜

### 5.1 ðŸ“Š My ëˆ„ì ì†ìµ ìœ„ì ¯

**ìœ„ì¹˜**: ìš°ì¸¡ ì‚¬ì´ë“œë°” ìµœìƒë‹¨

**í‘œì‹œ ë°ì´í„°**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“Š My ëˆ„ì ì†ìµ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì›” ëˆ„ì ì†ìµ                         â”‚
â”‚  â‚©12,500,000                        â”‚
â”‚  ëª©í‘œ: â‚©15,000,000 (83%)            â”‚
â”‚                                     â”‚
â”‚  ì—° ëˆ„ì ì†ìµ                         â”‚
â”‚  â‚©145,000,000                       â”‚
â”‚  ëª©í‘œ: â‚©180,000,000 (80%)           â”‚
â”‚                                     â”‚
â”‚  íšŒì› ë“±ê¸‰                           â”‚
â”‚  Lv.3 í™œë™ íšŒì›                     â”‚
â”‚                                     â”‚
â”‚  ì „ì²´ ëž­í‚¹                           â”‚
â”‚  15ìœ„ / 1,000ëª… (ìƒìœ„ 1.5%)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ì¶œì²˜**:
- ì—°ë™ëœ ëª¨ë“  ê³„ì¢Œì˜ ì†ìµ í•©ì‚°
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (5ì´ˆ ì£¼ê¸°)
- ëª©í‘œ ë‹¬ì„±ë¥  ìžë™ ê³„ì‚°

### 5.2 ì¼ë³„ ê±°ëž˜ ì¼ì§€

**ìœ„ì¹˜**: ìš°ì¸¡ ì‚¬ì´ë“œë°” > ðŸ“… ì¼ë³„ ê±°ëž˜ ì¼ì§€ (ë”ë³´ê¸° í´ë¦­)

**12ê°œì›” ë‹¬ë ¥ í˜•ì‹**:

```
2024ë…„ 12ì›”
â”Œâ”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”
â”‚ì¼â”‚ì›”â”‚í™”â”‚ìˆ˜â”‚ëª©â”‚ê¸ˆâ”‚í† â”‚
â”œâ”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤
â”‚ 1â”‚ 2â”‚ 3â”‚ 4â”‚ 5â”‚ 6â”‚ 7â”‚
â”‚  â”‚+5â”‚+3â”‚+2â”‚+8â”‚+4â”‚  â”‚
â”œâ”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¼â”€â”€â”¤
â”‚ 8â”‚ 9â”‚10â”‚11â”‚12â”‚13â”‚14â”‚
â”‚  â”‚+6â”‚-2â”‚+5â”‚+7â”‚+3â”‚  â”‚
â””â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”˜

ëˆ„ì  ì†ìµ: +41ë§Œì›
```

**ìƒ‰ìƒ ì½”ë”©**:
- ðŸŸ¢ ë…¹ìƒ‰: ì´ìµ ë°œìƒì¼ (+)
- ðŸ”´ ë¹¨ê°„ìƒ‰: ì†ì‹¤ ë°œìƒì¼ (-)
- âšª íšŒìƒ‰: ê±°ëž˜ ì—†ìŒ

**í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2024ë…„ 12ì›” 5ì¼ ê±°ëž˜ ë‚´ì—­      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ê±°ëž˜ 1: ê¸ˆ ì„ ë¬¼ ë§¤ìˆ˜           â”‚
â”‚  ì§„ìž…: $2,650.00               â”‚
â”‚  ì²­ì‚°: $2,671.50               â”‚
â”‚  ì†ìµ: +$8,000                 â”‚
â”‚                                â”‚
â”‚  ê±°ëž˜ 2: ê¸ˆ ì„ ë¬¼ ë§¤ë„           â”‚
â”‚  ì§„ìž…: $2,675.00               â”‚
â”‚  ì²­ì‚°: $2,675.00               â”‚
â”‚  ì†ìµ: $0                      â”‚
â”‚                                â”‚
â”‚  ì¼ ì´ ì†ìµ: +$8,000           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ê±°ëž˜ ì‹œìž‘ì¼ ì„¤ì • íš¨ê³¼

**ìœ„ì¹˜**: My ì„¤ì • > ðŸ“… ê±°ëž˜ ì‹œìž‘ì¼ ì„¤ì •

**ì„¤ì • ì˜ˆì‹œ**:
- ê±°ëž˜ ì‹œìž‘ì¼: 2024ë…„ 1ì›” 1ì¼

**íš¨ê³¼**:
- ëª¨ë“  ëˆ„ì  ì†ìµ ê³„ì‚°ì˜ ê¸°ì¤€ì¼
- í•´ë‹¹ ë‚ ì§œ ì´í›„ ë°ì´í„°ë§Œ ì§‘ê³„
- ë³€ê²½ ì‹œ ì¦‰ì‹œ ìž¬ê³„ì‚°

**ì‚¬ìš© ì¼€ì´ìŠ¤**:
```
ìƒí™©: 2023ë…„ë¶€í„° ê±°ëž˜í–ˆì§€ë§Œ, HDH ì „ëžµì€ 2024ë…„ 1ì›”ë¶€í„° ì‹œìž‘
ì„¤ì •: ê±°ëž˜ ì‹œìž‘ì¼ = 2024-01-01
ê²°ê³¼: 2024ë…„ 1ì›” 1ì¼ ì´í›„ ë°ì´í„°ë§Œ "My ëˆ„ì ì†ìµ"ì— ë°˜ì˜
```

---

## 6. ê³„ì¢Œ ê´€ë¦¬ ê¸°ëŠ¥

### 6.1 ì—°ê²°ëœ ê³„ì¢Œ ëª©ë¡

**í‘œì‹œ ì •ë³´**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë©”ì¸ ê³„ì¢Œ              [ì—°ê²°ë¨]     â”‚
â”‚  Enso Markets (ì—”ì˜ë§ˆì¼“)            â”‚
â”‚  API Key: enso_**********************â”‚
â”‚  ì‹¤ì‹œê°„ ì†ìµ ì—°ë™ ì¤‘                 â”‚
â”‚  [ì—°ê²° í•´ì œ]  [ì‚­ì œ]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì„œë¸Œ ê³„ì¢Œ           [ì—°ê²° í•´ì œë¨]   â”‚
â”‚  INFINOX (ì¸í”¼ë…¹ìŠ¤)                 â”‚
â”‚  API Key: infx_**********************â”‚
â”‚  ì‹¤ì‹œê°„ ì†ìµ ì—°ë™ ì¤‘ì§€ë¨             â”‚
â”‚  [ìž¬ì—°ê²°]  [ì‚­ì œ]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ì—°ê²° í•´ì œ ê¸°ëŠ¥

**ëª©ì **: ì¼ì‹œì ìœ¼ë¡œ ë°ì´í„° ë™ê¸°í™” ì¤‘ì§€

**í”„ë¡œì„¸ìŠ¤**:

```
1. [ì—°ê²° í•´ì œ] ë²„íŠ¼ í´ë¦­
   â†“
2. í™•ì¸ ë©”ì‹œì§€:
   "ë©”ì¸ ê³„ì¢Œì˜ ì—°ê²°ì„ í•´ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?
    ì—°ê²°ì„ í•´ì œí•˜ë©´ ì‹¤ì‹œê°„ ì†ìµ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
   â†“
3. [í™•ì¸] í´ë¦­
   â†“
4. ì‹œìŠ¤í…œ ì²˜ë¦¬:
   - ìƒíƒœ ë³€ê²½: "ì—°ê²°ë¨" â†’ "ì—°ê²° í•´ì œë¨"
   - ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘ ì¤‘ì§€
   - ê¸°ì¡´ ë°ì´í„°ëŠ” ìœ ì§€ (ì‚­ì œë˜ì§€ ì•ŠìŒ)
   â†“
5. ë²„íŠ¼ ë³€ê²½: [ì—°ê²° í•´ì œ] â†’ [ìž¬ì—°ê²°]
```

**íš¨ê³¼**:
- âœ… ê¸°ì¡´ ê±°ëž˜ ë‚´ì—­ ë° ëˆ„ì  ì†ìµ ë°ì´í„° ë³´ì¡´
- âŒ ì‹ ê·œ ê±°ëž˜ ë°ì´í„° ìˆ˜ì§‘ ì¤‘ì§€
- â„¹ï¸ ì–¸ì œë“ ì§€ ìž¬ì—°ê²° ê°€ëŠ¥

### 6.3 ìž¬ì—°ê²° ê¸°ëŠ¥

**ëª©ì **: ì—°ê²° í•´ì œëœ ê³„ì¢Œë¥¼ ë‹¤ì‹œ í™œì„±í™”

**í”„ë¡œì„¸ìŠ¤**:

```
1. [ìž¬ì—°ê²°] ë²„íŠ¼ í´ë¦­
   â†“
2. API ì—°ê²° í…ŒìŠ¤íŠ¸
   â†“
3. ì„±ê³µ ì‹œ:
   - ìƒíƒœ ë³€ê²½: "ì—°ê²° í•´ì œë¨" â†’ "ì—°ê²°ë¨"
   - ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘ ìž¬ê°œ
   - ì—°ê²° í•´ì œ ê¸°ê°„ ë™ì•ˆì˜ ëˆ„ë½ ë°ì´í„° ë™ê¸°í™”
   â†“
4. ë²„íŠ¼ ë³€ê²½: [ìž¬ì—°ê²°] â†’ [ì—°ê²° í•´ì œ]
```

### 6.4 ì‚­ì œ ê¸°ëŠ¥

**ëª©ì **: ê³„ì¢Œë¥¼ ì™„ì „ížˆ ì œê±°

**í”„ë¡œì„¸ìŠ¤**:

```
1. [ì‚­ì œ] ë²„íŠ¼ í´ë¦­
   â†“
2. í™•ì¸ ë©”ì‹œì§€:
   "ë©”ì¸ ê³„ì¢Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?
    âš ï¸ ì‚­ì œ ì‹œ í•´ë‹¹ ê³„ì¢Œì˜ ëª¨ë“  ê±°ëž˜ ë‚´ì—­ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.
    ëˆ„ì  ì†ìµ ê³„ì‚°ì—ì„œë„ ì œì™¸ë©ë‹ˆë‹¤."
   â†“
3. [í™•ì¸] í´ë¦­
   â†“
4. ì‹œìŠ¤í…œ ì²˜ë¦¬:
   - ê³„ì¢Œ ì •ë³´ ì‚­ì œ (API Key/Secret í¬í•¨)
   - í•´ë‹¹ ê³„ì¢Œì˜ ê±°ëž˜ ë‚´ì—­ ì‚­ì œ ë˜ëŠ” ì•„ì¹´ì´ë¸Œ
   - ëˆ„ì  ì†ìµ ìž¬ê³„ì‚° (í•´ë‹¹ ê³„ì¢Œ ì œì™¸)
   â†“
5. ê³„ì¢Œ ëª©ë¡ì—ì„œ ì œê±°
```

**ì£¼ì˜ì‚¬í•­**:
- âš ï¸ **ë³µêµ¬ ë¶ˆê°€ëŠ¥**: ì‚­ì œ í›„ ë˜ëŒë¦´ ìˆ˜ ì—†ìŒ
- âš ï¸ **ë°ì´í„° ì†ì‹¤**: í•´ë‹¹ ê³„ì¢Œì˜ ëª¨ë“  ê±°ëž˜ ë‚´ì—­ ì‚­ì œ
- ðŸ’¡ **ê¶Œìž¥**: ì—°ê²° í•´ì œ ê¸°ëŠ¥ ì‚¬ìš© ê¶Œìž¥ (ë°ì´í„° ë³´ì¡´)

### 6.5 ë‹¤ì¤‘ ê³„ì¢Œ ê´€ë¦¬

**ì§€ì› ê¸°ëŠ¥**:
- ë¬´ì œí•œ ê³„ì¢Œ ì¶”ê°€ ê°€ëŠ¥
- ê° ê³„ì¢Œë³„ ë…ë¦½ì  ì—°ê²° ìƒíƒœ ê´€ë¦¬
- ëª¨ë“  ê³„ì¢Œì˜ ì†ìµ ìžë™ í•©ì‚°

**ì‚¬ìš© ì˜ˆì‹œ**:

```
ì‚¬ìš©ìž: ê¹€ì² ìˆ˜

ê³„ì¢Œ 1: Enso Markets - ì±Œë¦°ì§€ ê³„ì¢Œ
  - ìƒíƒœ: ì—°ê²°ë¨
  - ì›” ì†ìµ: +â‚©5,000,000

ê³„ì¢Œ 2: Enso Markets - ë³´í—˜ê¸ˆ ê³„ì¢Œ
  - ìƒíƒœ: ì—°ê²°ë¨
  - ì›” ì†ìµ: -â‚©1,800,000

ê³„ì¢Œ 3: INFINOX - í…ŒìŠ¤íŠ¸ ê³„ì¢Œ
  - ìƒíƒœ: ì—°ê²° í•´ì œë¨
  - ì›” ì†ìµ: +â‚©500,000 (ì—°ê²° í•´ì œ ì „ê¹Œì§€)

â†’ My ëˆ„ì ì†ìµ í‘œì‹œ:
   ì›” ëˆ„ì ì†ìµ = â‚©3,700,000
   (ê³„ì¢Œ 1 + ê³„ì¢Œ 2 + ê³„ì¢Œ 3)
```

---

## 7. ë³´ì•ˆ ë° ê°œì¸ì •ë³´ ë³´í˜¸

### 7.1 API í‚¤ ë³´ì•ˆ

#### ì €ìž¥ ë°©ì‹

```python
# ì•”í˜¸í™” ì €ìž¥
def save_api_credentials(api_key, api_secret):
    # AES-256 ì•”í˜¸í™”
    encrypted_secret = aes256_encrypt(
        data=api_secret,
        key=get_master_encryption_key()
    )

    # ë°ì´í„°ë² ì´ìŠ¤ ì €ìž¥
    db.insert({
        'api_key': api_key,  # í‰ë¬¸ ì €ìž¥ (ê²€ìƒ‰ìš©)
        'api_secret_encrypted': encrypted_secret,  # ì•”í˜¸í™”
        'encryption_version': '1.0'
    })
```

#### ì‚¬ìš© ì‹œ ë³µí˜¸í™”

```python
# ë³µí˜¸í™” í›„ ì‚¬ìš©
def get_api_credentials(account_id):
    account = db.get_account(account_id)

    decrypted_secret = aes256_decrypt(
        data=account['api_secret_encrypted'],
        key=get_master_encryption_key()
    )

    return {
        'api_key': account['api_key'],
        'api_secret': decrypted_secret
    }
```

### 7.2 í™”ë©´ í‘œì‹œ ë§ˆìŠ¤í‚¹

**API Key ë§ˆìŠ¤í‚¹**:

```
ì‹¤ì œ í‚¤: enso_1a2b3c4d5e6f7g8h9i0j
í™”ë©´ í‘œì‹œ: enso_**********************

ê·œì¹™:
- ì•ž 5ìžë§Œ í‘œì‹œ
- ë‚˜ë¨¸ì§€ëŠ” * ì²˜ë¦¬
```

**API Secret**:
- ìž…ë ¥ ì‹œ: ë¹„ë°€ë²ˆí˜¸ íƒ€ìž… (â—â—â—â—â—â—â—â—)
- ì €ìž¥ í›„: ì ˆëŒ€ ìž¬í‘œì‹œ ì•ˆ ë¨
- ìˆ˜ì • í•„ìš” ì‹œ: ìƒˆë¡œ ìž…ë ¥

### 7.3 API ê¶Œí•œ ì œí•œ ê¶Œìž¥ì‚¬í•­

**ê¶Œìž¥ ì„¤ì •**:

| ê¶Œí•œ | í—ˆìš© ì—¬ë¶€ | ì´ìœ  |
|------|----------|------|
| **ì½ê¸° ì „ìš©** | âœ… í•„ìˆ˜ | ê±°ëž˜ ë‚´ì—­, ìž”ê³  ì¡°íšŒ |
| **ê³„ì¢Œ ì •ë³´ ì¡°íšŒ** | âœ… í•„ìˆ˜ | í¬ì§€ì…˜, ì†ìµ í™•ì¸ |
| **ê±°ëž˜ ì‹¤í–‰** | âŒ ë¹„í™œì„±í™” | ë³´ì•ˆ ìœ„í—˜ (HDHëŠ” ë°ì´í„°ë§Œ ìˆ˜ì§‘) |
| **ì¶œê¸ˆ** | âŒ ë¹„í™œì„±í™” | ë³´ì•ˆ ìœ„í—˜ |
| **ê³„ì¢Œ ì„¤ì • ë³€ê²½** | âŒ ë¹„í™œì„±í™” | ë³´ì•ˆ ìœ„í—˜ |

**ì´ìœ **:
```
HDH FintechëŠ” ìˆœìˆ˜í•˜ê²Œ ë°ì´í„° ìˆ˜ì§‘ ë° í‘œì‹œ ëª©ì 
â†’ ì½ê¸° ì „ìš© ê¶Œí•œë§Œìœ¼ë¡œ ì¶©ë¶„
â†’ ë§Œì•½ API í‚¤ê°€ ìœ ì¶œë˜ì–´ë„ ìžê¸ˆ ì†ì‹¤ ìœ„í—˜ ì œë¡œ
```

### 7.4 2FA (2ë‹¨ê³„ ì¸ì¦) í†µí•© (í–¥í›„ ê³„íš)

```
1. ë¯¼ê°í•œ ìž‘ì—… ì‹œ 2FA ìš”êµ¬:
   - ê³„ì¢Œ ì¶”ê°€
   - ê³„ì¢Œ ì‚­ì œ
   - API í‚¤ ë³€ê²½

2. ì§€ì› ë°©ì‹:
   - SMS ì¸ì¦
   - ì´ë©”ì¼ ì¸ì¦
   - Google Authenticator
```

### 7.5 ì ‘ê·¼ ë¡œê·¸

ëª¨ë“  API ìš”ì²­ ê¸°ë¡:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API ì ‘ê·¼ ë¡œê·¸                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2024-12-07 14:35:22                    â”‚
â”‚  ê³„ì¢Œ: ë©”ì¸ ê³„ì¢Œ                         â”‚
â”‚  ìž‘ì—…: ê±°ëž˜ ë‚´ì—­ ì¡°íšŒ                    â”‚
â”‚  IP: 123.456.789.012                    â”‚
â”‚  ìƒíƒœ: ì„±ê³µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2024-12-07 14:35:18                    â”‚
â”‚  ê³„ì¢Œ: ë©”ì¸ ê³„ì¢Œ                         â”‚
â”‚  ìž‘ì—…: ìž”ê³  ì¡°íšŒ                         â”‚
â”‚  IP: 123.456.789.012                    â”‚
â”‚  ìƒíƒœ: ì„±ê³µ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ê¸°ìˆ  êµ¬í˜„ ì‚¬ì–‘

### 8.1 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            í”„ë¡ íŠ¸ì—”ë“œ (React.js)            â”‚
â”‚  - ì‚¬ìš©ìž ì¸í„°íŽ˜ì´ìŠ¤                         â”‚
â”‚  - ì‹¤ì‹œê°„ ë°ì´í„° í‘œì‹œ (WebSocket)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ë°±ì—”ë“œ API ì„œë²„ (Node.js)          â”‚
â”‚  - ê³„ì¢Œ ê´€ë¦¬ API                             â”‚
â”‚  - ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬                      â”‚
â”‚  - WebSocket ì„œë²„                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ë°ì´í„°ë² ì´ìŠ¤   â”‚   â”‚  ê±°ëž˜ì†Œ API      â”‚
â”‚   (MongoDB)    â”‚   â”‚  - Enso Markets â”‚
â”‚                â”‚   â”‚  - INFINOX      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

#### Users (íšŒì›) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    username: String,
    email: String,
    trading_start_date: Date,
    level: Number,
    created_at: Date,
    updated_at: Date
}
```

#### Accounts (ê³„ì¢Œ) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    user_id: ObjectId,  // Foreign Key â†’ Users
    exchange: String,   // "ensomarkets" | "infinox"
    nickname: String,
    api_key: String,
    api_secret_encrypted: String,
    status: String,     // "connected" | "disconnected"
    created_at: Date,
    last_sync_at: Date
}
```

#### Trades (ê±°ëž˜ ë‚´ì—­) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    account_id: ObjectId,  // Foreign Key â†’ Accounts
    user_id: ObjectId,     // Foreign Key â†’ Users
    trade_id: String,      // ê±°ëž˜ì†Œì˜ ê±°ëž˜ ID
    symbol: String,        // "XAUUSD" (ê¸ˆ ì„ ë¬¼)
    type: String,          // "BUY" | "SELL"
    lot_size: Number,
    entry_price: Number,
    exit_price: Number,
    entry_time: Date,
    exit_time: Date,
    realized_pl: Number,   // ì‹¤í˜„ ì†ìµ
    status: String,        // "open" | "closed"
    created_at: Date
}
```

#### DailyProfitLoss (ì¼ë³„ ì†ìµ) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    user_id: ObjectId,
    date: Date,            // YYYY-MM-DD
    daily_pl: Number,      // ì¼ ì†ìµ
    accumulated_pl: Number,// ëˆ„ì  ì†ìµ (ê±°ëž˜ ì‹œìž‘ì¼ë¶€í„°)
    trade_count: Number,   // ê±°ëž˜ íšŸìˆ˜
    win_count: Number,     // ì´ìµ ê±°ëž˜ ìˆ˜
    loss_count: Number,    // ì†ì‹¤ ê±°ëž˜ ìˆ˜
    created_at: Date
}
```

#### MonthlyStats (ì›”ë³„ í†µê³„) í…Œì´ë¸”

```javascript
{
    _id: ObjectId,
    user_id: ObjectId,
    year: Number,
    month: Number,
    monthly_pl: Number,
    monthly_target: Number,
    achievement_rate: Number,  // ë‹¬ì„±ë¥  (%)
    created_at: Date,
    updated_at: Date
}
```

### 8.3 API ì—”ë“œí¬ì¸íŠ¸

#### ê³„ì¢Œ ê´€ë¦¬

```
POST   /api/accounts              # ê³„ì¢Œ ì¶”ê°€
GET    /api/accounts              # ê³„ì¢Œ ëª©ë¡ ì¡°íšŒ
PUT    /api/accounts/:id          # ê³„ì¢Œ ìˆ˜ì •
DELETE /api/accounts/:id          # ê³„ì¢Œ ì‚­ì œ
POST   /api/accounts/:id/disconnect  # ì—°ê²° í•´ì œ
POST   /api/accounts/:id/reconnect   # ìž¬ì—°ê²°
```

#### ë°ì´í„° ì¡°íšŒ

```
GET /api/profit-loss/daily        # ì¼ë³„ ì†ìµ
GET /api/profit-loss/monthly      # ì›”ë³„ ì†ìµ
GET /api/profit-loss/yearly       # ì—°ë³„ ì†ìµ
GET /api/profit-loss/accumulated  # ëˆ„ì  ì†ìµ
GET /api/trades                   # ê±°ëž˜ ë‚´ì—­
GET /api/ranking                  # ëž­í‚¹
```

#### ì„¤ì •

```
PUT /api/settings/trading-start-date  # ê±°ëž˜ ì‹œìž‘ì¼ ì„¤ì •
GET /api/settings                     # ì„¤ì • ì¡°íšŒ
```

### 8.4 ê±°ëž˜ì†Œ API ì—°ë™

#### Enso Markets API ì˜ˆì‹œ

```javascript
// ê³„ì¢Œ ì •ë³´ ì¡°íšŒ
const getAccountInfo = async (apiKey, apiSecret) => {
    const response = await axios.get(
        'https://api.ensomarkets.com/v1/account',
        {
            headers: {
                'X-API-KEY': apiKey,
                'X-API-SECRET': apiSecret
            }
        }
    );

    return {
        balance: response.data.balance,
        equity: response.data.equity,
        margin: response.data.margin
    };
};

// ê±°ëž˜ ë‚´ì—­ ì¡°íšŒ
const getTrades = async (apiKey, apiSecret, startDate, endDate) => {
    const response = await axios.get(
        'https://api.ensomarkets.com/v1/trades',
        {
            headers: {
                'X-API-KEY': apiKey,
                'X-API-SECRET': apiSecret
            },
            params: {
                start_date: startDate,
                end_date: endDate
            }
        }
    );

    return response.data.trades.map(trade => ({
        id: trade.trade_id,
        symbol: trade.symbol,
        type: trade.type,
        lot_size: trade.lot_size,
        entry_price: trade.entry_price,
        exit_price: trade.exit_price,
        profit_loss: trade.profit_loss,
        entry_time: trade.entry_time,
        exit_time: trade.exit_time
    }));
};
```

#### INFINOX API ì˜ˆì‹œ

```javascript
// ìœ ì‚¬í•œ êµ¬ì¡°, endpointë§Œ ë‹¤ë¦„
const INFINOX_BASE_URL = 'https://api.infinox.com/v1';
```

### 8.5 ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

#### ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì •

```javascript
const cron = require('node-cron');

// 5ì´ˆë§ˆë‹¤ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
cron.schedule('*/5 * * * * *', async () => {
    const connectedAccounts = await db.accounts.find({
        status: 'connected'
    });

    for (const account of connectedAccounts) {
        try {
            await syncAccountData(account);
        } catch (error) {
            console.error(`Failed to sync account ${account.id}:`, error);
        }
    }
});

// ë§¤ì¼ ìžì •ì— ì¼ì¼ ì •ì‚°
cron.schedule('0 0 * * *', async () => {
    await dailySettlement();
});
```

#### WebSocket ì‹¤ì‹œê°„ í‘¸ì‹œ

```javascript
// ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸ ì‹¤ì‹œê°„ í‘¸ì‹œ
io.on('connection', (socket) => {
    socket.on('subscribe', (userId) => {
        // ì‚¬ìš©ìžë³„ ë£¸ ìƒì„±
        socket.join(`user:${userId}`);
    });
});

// ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹œ í‘¸ì‹œ
const pushUpdate = (userId, data) => {
    io.to(`user:${userId}`).emit('profit_loss_update', data);
};
```

---

## 9. ì‚¬ìš©ìž ì‹œë‚˜ë¦¬ì˜¤

### 9.1 ì‹ ê·œ íšŒì› ê³„ì¢Œ ì—°ë™ ì‹œë‚˜ë¦¬ì˜¤

**ë°°ê²½**: ê¹€ì² ìˆ˜ ë‹˜ì´ HDH Fintechì— ì‹ ê·œ ê°€ìž…í•˜ê³  Enso Markets ê³„ì¢Œë¥¼ ì—°ë™í•˜ë ¤ í•¨

**ë‹¨ê³„ë³„ ê³¼ì •**:

```
Day 1 - 09:00
ê¹€ì² ìˆ˜: HDH Fintech íšŒì›ê°€ìž… ì™„ë£Œ
        â†“
        ì›¹ì‚¬ì´íŠ¸ ë¡œê·¸ì¸
        â†“
        ìš°ì¸¡ ì‚¬ì´ë“œë°” í™•ì¸
        â†’ "My ëˆ„ì ì†ìµ" ìœ„ì ¯ì´ ë¹„ì–´ìžˆìŒ (ë°ì´í„° ì—†ìŒ)
        â†“
        [âš™ï¸ My ì„¤ì •] í´ë¦­
        â†“
        [ðŸ“… ê±°ëž˜ ì‹œìž‘ì¼ ì„¤ì •] í´ë¦­
        â†’ 2024-01-01ë¡œ ì„¤ì • (HDH ì „ëžµ ì‹œìž‘ì¼)
        â†“
        [ðŸ’¼ ê³„ì¢Œ ê´€ë¦¬] í´ë¦­
        â†“
        [ê³„ì¢Œ ì¶”ê°€] í¼ ìž‘ì„±:
          - ê±°ëž˜ì†Œ: Enso Markets
          - ë³„ì¹­: ë©”ì¸ ì±Œë¦°ì§€ ê³„ì¢Œ
          - API Key: (Ensoì—ì„œ ë°œê¸‰ë°›ì€ í‚¤)
          - API Secret: (Ensoì—ì„œ ë°œê¸‰ë°›ì€ ì‹œí¬ë¦¿)
        â†“
        [ê³„ì¢Œ ì¶”ê°€] ë²„íŠ¼ í´ë¦­
        â†“
Day 1 - 09:05
ì‹œìŠ¤í…œ: API ì—°ê²° í…ŒìŠ¤íŠ¸ â†’ ì„±ê³µ!
        ì•Œë¦¼: "ê³„ì¢Œê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!"
        â†“
        "ì—°ê²°ëœ ê³„ì¢Œ"ì— í‘œì‹œ:
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ë©”ì¸ ì±Œë¦°ì§€ ê³„ì¢Œ    [ì—°ê²°ë¨]     â”‚
        â”‚ Enso Markets                     â”‚
        â”‚ ì‹¤ì‹œê°„ ì†ìµ ì—°ë™ ì¤‘               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
Day 1 - 09:10
ì‹œìŠ¤í…œ: ê³¼ê±° ê±°ëž˜ ë°ì´í„° ë™ê¸°í™” ì‹œìž‘
        â†’ 2024-01-01ë¶€í„° í˜„ìž¬ê¹Œì§€ ëª¨ë“  ê±°ëž˜ ë‚´ì—­ ê°€ì ¸ì˜¤ê¸°
        â†’ ì´ 150ê±´ì˜ ê±°ëž˜ ë°œê²¬
        â†“
        ì¼ë³„ ì†ìµ ê³„ì‚° ë° ì €ìž¥
        â†“
        ëˆ„ì  ì†ìµ ê³„ì‚°:
        - ì›” ëˆ„ì : +â‚©8,500,000
        - ì—° ëˆ„ì : +â‚©95,000,000
        â†“
Day 1 - 09:15
ê¹€ì² ìˆ˜: íŽ˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
        â†“
        "My ëˆ„ì ì†ìµ" ìœ„ì ¯ í™•ì¸:
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ì›” ëˆ„ì ì†ìµ: â‚©8,500,000          â”‚
        â”‚ ëª©í‘œ: â‚©10,000,000 (85%)          â”‚
        â”‚                                  â”‚
        â”‚ ì—° ëˆ„ì ì†ìµ: â‚©95,000,000         â”‚
        â”‚ ëª©í‘œ: â‚©120,000,000 (79%)         â”‚
        â”‚                                  â”‚
        â”‚ íšŒì› ë“±ê¸‰: Lv.2 ì •íšŒì›           â”‚
        â”‚ ì „ì²´ ëž­í‚¹: 45ìœ„ / 1,000ëª…        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
ê¹€ì² ìˆ˜: "ì¼ë³„ ê±°ëž˜ ì¼ì§€" í´ë¦­
        â†’ 12ê°œì›” ë‹¬ë ¥ì— ëª¨ë“  ê±°ëž˜ì¼ í‘œì‹œë¨
        â†’ ê° ë‚ ì§œë³„ ì†ìµ ìƒ‰ìƒ ì½”ë”© í™•ì¸
        â†“
        ë§Œì¡±í•˜ë©° ê³„ì¢Œ ì—°ë™ ì™„ë£Œ! âœ…
```

### 9.2 ì¶”ê°€ ê³„ì¢Œ ì—°ë™ ì‹œë‚˜ë¦¬ì˜¤

**ë°°ê²½**: ê¹€ì² ìˆ˜ ë‹˜ì´ ë³´í—˜ê¸ˆ ê³„ì¢Œë„ ì—°ë™í•˜ê³  ì‹¶ì–´í•¨

```
Day 5 - 14:00
ê¹€ì² ìˆ˜: [âš™ï¸ My ì„¤ì •] â†’ [ðŸ’¼ ê³„ì¢Œ ê´€ë¦¬] í´ë¦­
        â†“
        "ì—°ê²°ëœ ê³„ì¢Œ"ì— ê¸°ì¡´ ê³„ì¢Œ 1ê°œ í‘œì‹œë¨
        â†“
        [ê³„ì¢Œ ì¶”ê°€] í¼ ìž‘ì„±:
          - ê±°ëž˜ì†Œ: Enso Markets
          - ë³„ì¹­: ë³´í—˜ê¸ˆ ê³„ì¢Œ
          - API Key: (ë‹¤ë¥¸ ê³„ì¢Œì˜ API í‚¤)
          - API Secret: (ë‹¤ë¥¸ ê³„ì¢Œì˜ ì‹œí¬ë¦¿)
        â†“
        [ê³„ì¢Œ ì¶”ê°€] ë²„íŠ¼ í´ë¦­
        â†“
Day 5 - 14:05
ì‹œìŠ¤í…œ: 2ë²ˆì§¸ ê³„ì¢Œ ì—°ë™ ì„±ê³µ
        â†“
        "ì—°ê²°ëœ ê³„ì¢Œ"ì— 2ê°œ í‘œì‹œ:
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ë©”ì¸ ì±Œë¦°ì§€ ê³„ì¢Œ    [ì—°ê²°ë¨]     â”‚
        â”‚ Enso Markets                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ë³´í—˜ê¸ˆ ê³„ì¢Œ         [ì—°ê²°ë¨]     â”‚
        â”‚ Enso Markets                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
        ë³´í—˜ê¸ˆ ê³„ì¢Œ ë°ì´í„° ë™ê¸°í™”
        â†“
        ëˆ„ì  ì†ìµ ìž¬ê³„ì‚° (2ê°œ ê³„ì¢Œ í•©ì‚°):
        - ì±Œë¦°ì§€ ê³„ì¢Œ: +â‚©8,500,000
        - ë³´í—˜ê¸ˆ ê³„ì¢Œ: -â‚©1,900,000
        - í•©ê³„: +â‚©6,600,000
        â†“
ê¹€ì² ìˆ˜: "My ëˆ„ì ì†ìµ" í™•ì¸
        â†’ ìžë™ìœ¼ë¡œ 2ê°œ ê³„ì¢Œ í•©ì‚°ëœ ê¸ˆì•¡ í‘œì‹œë¨
        â†’ í—·ì§€ ì „ëžµ ì†ìµì„ í•œëˆˆì— í™•ì¸ ê°€ëŠ¥! âœ…
```

### 9.3 ì‹¤ì‹œê°„ ê±°ëž˜ ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤

**ë°°ê²½**: ê¹€ì² ìˆ˜ ë‹˜ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ê¸ˆ ì„ ë¬¼ ê±°ëž˜ ì¤‘

```
Day 10 - 10:30:00
ê¹€ì² ìˆ˜: MT5ì—ì„œ ê¸ˆ ì„ ë¬¼ ë§¤ìˆ˜ ì£¼ë¬¸ ì‹¤í–‰
        - ìƒí’ˆ: XAUUSD (ê¸ˆ ì„ ë¬¼)
        - ë°©í–¥: BUY
        - LOT: 6.8
        - ì§„ìž…ê°€: $2,650.00
        - TP: 21.5 í¬ì¸íŠ¸
        - SL: 4.1 í¬ì¸íŠ¸
        â†“
        ê±°ëž˜ì†Œ ì„œë²„ì— ì£¼ë¬¸ ì ‘ìˆ˜
        â†“
10:30:01
        ì²´ê²° ì™„ë£Œ
        â†“
10:30:06 (5ì´ˆ í›„)
HDH ì‹œìŠ¤í…œ: ì •ê¸° ë°ì´í„° ë™ê¸°í™” ì‹¤í–‰
            â†’ ìƒˆ í¬ì§€ì…˜ ë°œê²¬!
            â†“
            ë°ì´í„°ë² ì´ìŠ¤ì— ì €ìž¥:
            {
                status: "open",
                entry_price: 2650.00,
                unrealized_pl: 0
            }
            â†“
            WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ í‘¸ì‹œ
            â†“
10:30:06
ê¹€ì² ìˆ˜ì˜ ë¸Œë¼ìš°ì €: ì•Œë¦¼ ìˆ˜ì‹ !
                   "ìƒˆ í¬ì§€ì…˜ ì˜¤í”ˆ: XAUUSD BUY 6.8 LOT"
                   â†“
                   í™”ë©´ ìžë™ ì—…ë°ì´íŠ¸ (ìƒˆë¡œê³ ì¹¨ ë¶ˆí•„ìš”)

--- 30ë¶„ ê²½ê³¼ ---

11:00:00
        ê¸ˆ ê°€ê²© ìƒìŠ¹ ì¤‘...
        í˜„ìž¬ê°€: $2,671.50
        â†’ TP(21.5p) ë„ë‹¬!
        â†“
        ìžë™ ìµì ˆ ì²´ê²°
        â†“
11:00:01
HDH ì‹œìŠ¤í…œ: ê±°ëž˜ì†Œë¡œë¶€í„° ì›¹í›… ìˆ˜ì‹ 
            "Position Closed - Profit"
            â†“
            ì‹¤í˜„ ì†ìµ ê³„ì‚°:
            (2671.50 - 2650.00) Ã— 6.8 lots Ã— $100
            = 21.5p Ã— 680 = $14,620
            â†“
            ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸:
            - í¬ì§€ì…˜ ìƒíƒœ: "closed"
            - ì‹¤í˜„ ì†ìµ: +$14,620 (ì•½ â‚©1,950,000)
            - ì¼ë³„ ì†ìµì— ì¶”ê°€
            - ëˆ„ì  ì†ìµ ê°±ì‹ 
            â†“
            WebSocket í‘¸ì‹œ
            â†“
11:00:02
ê¹€ì² ìˆ˜ì˜ ë¸Œë¼ìš°ì €: ì•Œë¦¼ ìˆ˜ì‹ !
                   "í¬ì§€ì…˜ ì²­ì‚°: +â‚©1,950,000"
                   â†“
                   í™”ë©´ ìžë™ ì—…ë°ì´íŠ¸:

                   "My ëˆ„ì ì†ìµ" ìœ„ì ¯:
                   ì›” ëˆ„ì ì†ìµ: â‚©10,450,000 â¬†ï¸ (ì´ì „: â‚©8,500,000)

                   "ì¼ë³„ ê±°ëž˜ ì¼ì§€":
                   12ì›” 10ì¼: +â‚©1,950,000 (ë…¹ìƒ‰ í‘œì‹œ)
                   â†“
ê¹€ì² ìˆ˜: ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ì™„ë£Œ!
        ë³„ë„ ì¡°ìž‘ ì—†ì´ ìžë™ ì—…ë°ì´íŠ¸ë¨ âœ…
```

### 9.4 ì›”ë§ ì •ì‚° ì‹œë‚˜ë¦¬ì˜¤

```
Day 31 - 23:59:55
ì‹œìŠ¤í…œ: ì›”ë§ 5ì´ˆ ì „...
        â†“
        ë§ˆì§€ë§‰ ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹¤í–‰
        â†“
        ëª¨ë“  ë¯¸ì²´ê²° í¬ì§€ì…˜ í™•ì¸
        â†’ ë¯¸ì‹¤í˜„ ì†ìµ ìµœì¢… ê³„ì‚°
        â†“
00:00:00 (ë‹¤ìŒ ë‹¬)
        ì¼ì¼ ì •ì‚° í¬ë¡ ìž¡ ì‹¤í–‰
        â†“
        ê¹€ì² ìˆ˜ì˜ 12ì›” ë°ì´í„° ìµœì¢… ì§‘ê³„:
        - ê±°ëž˜ íšŸìˆ˜: 60íšŒ
        - ì´ìµ ê±°ëž˜: 50íšŒ
        - ì†ì‹¤ ê±°ëž˜: 10íšŒ
        - ì›” ì´ ì†ìµ: +â‚©10,450,000
        - ì›” ëª©í‘œ: â‚©10,000,000
        - ë‹¬ì„±ë¥ : 104.5% âœ…
        â†“
        íšŒì› ë“±ê¸‰ ìž¬í‰ê°€:
        - ì´ì „: Lv.2 ì •íšŒì›
        - ìƒˆë¡œìš´: Lv.3 í™œë™ íšŒì› (ìŠ¹ê¸‰!)
        â†“
        ëž­í‚¹ ìž¬ê³„ì‚°:
        - ì´ì „: 45ìœ„
        - ìƒˆë¡œìš´: 38ìœ„ (ìƒìŠ¹!)
        â†“
00:00:30
ê¹€ì² ìˆ˜: ë¡œê·¸ì¸
        â†“
        í™˜ì˜ ë©”ì‹œì§€:
        "ðŸŽ‰ ì¶•í•˜í•©ë‹ˆë‹¤!
         12ì›” ëª©í‘œë¥¼ 104.5% ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤!
         Lv.3 í™œë™ íšŒì›ìœ¼ë¡œ ìŠ¹ê¸‰í•˜ì…¨ìŠµë‹ˆë‹¤!"
        â†“
        "My ëˆ„ì ì†ìµ" ìœ„ì ¯:
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ì›” ëˆ„ì ì†ìµ: â‚©0                  â”‚
        â”‚ (1ì›” ìƒˆë¡œ ì‹œìž‘)                  â”‚
        â”‚                                  â”‚
        â”‚ ì—° ëˆ„ì ì†ìµ: â‚©105,450,000        â”‚
        â”‚ ëª©í‘œ: â‚©120,000,000 (87.8%)       â”‚
        â”‚                                  â”‚
        â”‚ íšŒì› ë“±ê¸‰: Lv.3 í™œë™ íšŒì› â¬†ï¸     â”‚
        â”‚ ì „ì²´ ëž­í‚¹: 38ìœ„ / 1,000ëª… â¬†ï¸     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
ê¹€ì² ìˆ˜: ë§Œì¡±ìŠ¤ëŸ¬ìš´ í•œ ë‹¬ ë§ˆë¬´ë¦¬! âœ…
```

---

## 10. FAQ

### Q1. ê³„ì¢Œ ì—°ë™ ì‹œ API í‚¤ê°€ í•„ìš”í•œ ì´ìœ ëŠ”?

**A**: MT5 ê±°ëž˜ì†Œ ê³„ì¢Œì˜ ë°ì´í„°ëŠ” ë³´ì•ˆìƒ ì§ì ‘ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ê±°ëž˜ì†Œê°€ ì œê³µí•˜ëŠ” ê³µì‹ APIë¥¼ í†µí•´ì„œë§Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆìœ¼ë©°, ì´ë•Œ API Keyì™€ Secretì´ ì¸ì¦ ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

### Q2. ì—¬ëŸ¬ ê³„ì¢Œë¥¼ ì—°ë™í•˜ë©´ ì†ìµì´ ì–´ë–»ê²Œ ê³„ì‚°ë˜ë‚˜ìš”?

**A**: ëª¨ë“  ì—°ë™ëœ ê³„ì¢Œì˜ ì†ìµì´ **ìžë™ìœ¼ë¡œ í•©ì‚°**ë©ë‹ˆë‹¤.

**ì˜ˆì‹œ**:
- ê³„ì¢Œ A: +â‚©5,000,000
- ê³„ì¢Œ B: -â‚©1,800,000
- **í‘œì‹œ**: â‚©3,200,000

---

### Q3. ê³„ì¢Œë¥¼ ì—°ê²° í•´ì œí•˜ë©´ ê¸°ì¡´ ë°ì´í„°ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

**A**:
- âœ… **ê¸°ì¡´ ë°ì´í„°ëŠ” ìœ ì§€**ë©ë‹ˆë‹¤.
- âŒ **ì‹ ê·œ ê±°ëž˜ ë°ì´í„°ë§Œ ìˆ˜ì§‘ ì¤‘ì§€**ë©ë‹ˆë‹¤.
- ðŸ”„ **ìž¬ì—°ê²° ì‹œ ëˆ„ë½ëœ ë°ì´í„° ìžë™ ë™ê¸°í™”**ë©ë‹ˆë‹¤.

---

### Q4. ê³„ì¢Œë¥¼ ì‚­ì œí•˜ë©´ ë³µêµ¬í•  ìˆ˜ ìžˆë‚˜ìš”?

**A**:
- âŒ **ì‚­ì œ ì‹œ ë³µêµ¬ ë¶ˆê°€ëŠ¥**í•©ë‹ˆë‹¤.
- âš ï¸ **ëª¨ë“  ê±°ëž˜ ë‚´ì—­ê³¼ ëˆ„ì  ì†ìµ ë°ì´í„°ê°€ ì‚­ì œ**ë©ë‹ˆë‹¤.
- ðŸ’¡ **ê¶Œìž¥**: ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš© ì¤‘ì§€í•˜ë ¤ë©´ "ì—°ê²° í•´ì œ" ê¸°ëŠ¥ ì‚¬ìš©

---

### Q5. ì‹¤ì‹œê°„ ë°ì´í„°ëŠ” ì–¼ë§ˆë‚˜ ìžì£¼ ì—…ë°ì´íŠ¸ë˜ë‚˜ìš”?

**A**:
- **í¬ì§€ì…˜/ìž”ê³ **: 5ì´ˆë§ˆë‹¤ ìžë™ ì—…ë°ì´íŠ¸
- **ê±°ëž˜ ì²´ê²°**: ì¦‰ì‹œ (ì›¹í›… ë°©ì‹)
- **ì¼ë³„ ì •ì‚°**: ë§¤ì¼ ìžì •
- **ì›”ë³„ í†µê³„**: ë§¤ì›” 1ì¼ ìžì •

---

### Q6. API í‚¤ê°€ ìœ ì¶œë˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

**A**:
- âœ… **ì½ê¸° ì „ìš© ê¶Œí•œ**ë§Œ ë¶€ì—¬í–ˆë‹¤ë©´ ìžê¸ˆ ì†ì‹¤ ìœ„í—˜ ì—†ìŒ
- âš ï¸ **ì¦‰ì‹œ ê±°ëž˜ì†Œì—ì„œ í•´ë‹¹ API í‚¤ ì‚­ì œ** ê¶Œìž¥
- ðŸ”„ **ìƒˆ API í‚¤ ë°œê¸‰ í›„ ìž¬ë“±ë¡**

**ë³´ì•ˆ íŒ**:
- API í‚¤ ìƒì„± ì‹œ "ê±°ëž˜ ì‹¤í–‰" ê¶Œí•œ ë¹„í™œì„±í™”
- ì •ê¸°ì ìœ¼ë¡œ API í‚¤ ë³€ê²½ (3ê°œì›”ë§ˆë‹¤ ê¶Œìž¥)

---

### Q7. ê±°ëž˜ ì‹œìž‘ì¼ì„ ë³€ê²½í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

**A**:
- ðŸ“… **ìƒˆë¡œìš´ ê¸°ì¤€ì¼ë¶€í„° ëˆ„ì  ì†ìµ ìž¬ê³„ì‚°**
- ðŸ”„ **ì¦‰ì‹œ ë°˜ì˜** (ì‹¤ì‹œê°„ ìž¬ê³„ì‚°)
- ðŸ“Š **ëž­í‚¹ë„ ìžë™ ìž¬ê³„ì‚°**

**ì‚¬ìš© ì¼€ì´ìŠ¤**:
```
ìƒí™©: 2020ë…„ë¶€í„° ê±°ëž˜í–ˆì§€ë§Œ HDH ì „ëžµì€ 2024ë…„ 1ì›”ë¶€í„°
ì„¤ì •: ê±°ëž˜ ì‹œìž‘ì¼ = 2024-01-01
íš¨ê³¼: 2024ë…„ 1ì›” 1ì¼ ì´í›„ ë°ì´í„°ë§Œ ì§‘ê³„
```

---

### Q8. ëª¨ì˜ ê³„ì¢Œì™€ ì‹¤ê±°ëž˜ ê³„ì¢Œë¥¼ ê°™ì´ ì—°ë™í•  ìˆ˜ ìžˆë‚˜ìš”?

**A**:
- âœ… **ê°€ëŠ¥í•©ë‹ˆë‹¤!**
- ðŸ’¡ **êµ¬ë¶„ ë°©ë²•**: ê³„ì¢Œ ë³„ì¹­ìœ¼ë¡œ êµ¬ë¶„ (ì˜ˆ: "ì‹¤ê±°ëž˜-ë©”ì¸", "ëª¨ì˜-í…ŒìŠ¤íŠ¸")
- ðŸ“Š **ì†ìµ í•©ì‚°**: ëª¨ë“  ê³„ì¢Œì˜ ì†ìµì´ í•©ì‚°ë˜ì–´ í‘œì‹œë¨

**ì£¼ì˜**:
- ëª¨ì˜ ê³„ì¢Œ ë°ì´í„°ê°€ ì‹¤ê±°ëž˜ ì†ìµì— í¬í•¨ë˜ë¯€ë¡œ ì •í™•í•œ ì„±ê³¼ ì¸¡ì •ì„ ìœ„í•´ì„œëŠ” ë¶„ë¦¬ ê¶Œìž¥

---

### Q9. ë‹¤ë¥¸ ê±°ëž˜ì†Œë„ ì¶”ê°€ë  ì˜ˆì •ì¸ê°€ìš”?

**A**:
- ðŸ”œ **í–¥í›„ ì¶”ê°€ ì˜ˆì •**:
  - FTMO
  - MyForexFunds
  - The5ers
  - Forex.com

í˜„ìž¬ëŠ” MT5 APIë¥¼ ì§€ì›í•˜ëŠ” Enso Marketsì™€ INFINOXë§Œ ì§€ì›í•©ë‹ˆë‹¤.

---

### Q10. ê³„ì¢Œ ì—°ë™ ì—†ì´ë„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‚˜ìš”?

**A**:
- âœ… **ê°€ëŠ¥í•˜ì§€ë§Œ ê¸°ëŠ¥ ì œí•œ**:
  - ì‹œë®¬ë ˆì´í„° ì‚¬ìš© ê°€ëŠ¥
  - ì „ëžµ í•™ìŠµ ê°€ëŠ¥
  - ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ ê°€ëŠ¥

- âŒ **ì‚¬ìš© ë¶ˆê°€**:
  - ì‹¤ì‹œê°„ ì†ìµ ì¶”ì 
  - ëž­í‚¹ ì°¸ì—¬
  - ì¼ë³„ ê±°ëž˜ ì¼ì§€
  - ìžë™ í†µê³„

**ê¶Œìž¥**: ê³„ì¢Œ ì—°ë™ìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ í™œìš©!

---

## ðŸ“ž ì§€ì› ë° ë¬¸ì˜

### ê¸°ìˆ  ì§€ì›
- ì´ë©”ì¼: support@hdhfintech.com
- ì±„íŒ…: ì›¹ì‚¬ì´íŠ¸ ìš°ì¸¡ í•˜ë‹¨ ðŸ’¬ ë²„íŠ¼
- ìš´ì˜ ì‹œê°„: í‰ì¼ 09:00 - 18:00 (KST)

### ìžì£¼ ë¬»ëŠ” ì§ˆë¬¸
- ì›¹ì‚¬ì´íŠ¸: https://hdhfintech.com/faq
- ì»¤ë®¤ë‹ˆí‹°: https://hdhfintech.com/community

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •**: 2025-12-07
**ìž‘ì„±ìž**: HDH Fintech ê°œë°œíŒ€
**ì €ìž‘ê¶Œ**: Â© 2025 HDH Fintech. All rights reserved.
